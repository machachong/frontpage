import{H as k,aF as C,r as f,_ as z,ah as s,l as F,m as I,V as e,p as u,P as t,u as i,a3 as U,T as M,a9 as R,aI as S,aJ as q}from"./vue-fe0cb6ad.js";import{e as B,d as K,_ as N}from"./index-91e364d9.js";import{v as L,w as T,x as A,y as D,z as E}from"./element-c4e68749.js";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang-1eb42a65.js";import"./vxe-dc094502.js";const J="/zzl.github.io/static/logo-text-2-eef467fb.png",P=d=>(S("data-v-79326910"),d=d(),q(),d),$={class:"login-container"},j={class:"login-card"},G=P(()=>u("div",{class:"title"},[u("img",{src:J})],-1)),O={class:"content"},Q=k({__name:"index",setup(d){const v=C(),g=f(null),c=f(!1),p=f(""),o=z({username:"admin",password:"12345678",code:""}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"长度在 8 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},x=()=>{var l;(l=g.value)==null||l.validate((a,r)=>{a?(c.value=!0,K().login(o).then(()=>{v.push({path:"/"})}).catch(()=>{m(),o.password=""}).finally(()=>{c.value=!1})):console.error("表单校验不通过",r)})},m=()=>{o.code="",p.value="",B().then(l=>{p.value=l.data})};return m(),(l,a)=>{const r=s("el-input"),_=s("el-form-item"),h=s("el-icon"),y=s("el-image"),V=s("el-button"),b=s("el-form");return F(),I("div",$,[e(H,{class:"theme-switch"}),u("div",j,[G,u("div",O,[e(b,{ref_key:"loginFormRef",ref:g,model:o,rules:w,onKeyup:R(x,["enter"])},{default:t(()=>[e(_,{prop:"username"},{default:t(()=>[e(r,{modelValue:o.username,"onUpdate:modelValue":a[0]||(a[0]=n=>o.username=n),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":i(L),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),e(_,{prop:"password"},{default:t(()=>[e(r,{modelValue:o.password,"onUpdate:modelValue":a[1]||(a[1]=n=>o.password=n),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":i(T),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),e(_,{prop:"code"},{default:t(()=>[e(r,{modelValue:o.code,"onUpdate:modelValue":a[2]||(a[2]=n=>o.code=n),modelModifiers:{trim:!0},placeholder:"验证码",type:"text",tabindex:"3","prefix-icon":i(A),maxlength:"7",size:"large"},{append:t(()=>[e(y,{src:p.value,onClick:m,draggable:"false"},{placeholder:t(()=>[e(h,null,{default:t(()=>[e(i(D))]),_:1})]),error:t(()=>[e(h,null,{default:t(()=>[e(i(E))]),_:1})]),_:1},8,["src"])]),_:1},8,["modelValue","prefix-icon"])]),_:1}),e(V,{loading:c.value,type:"primary",size:"large",onClick:U(x,["prevent"])},{default:t(()=>[M("登 录")]),_:1},8,["loading","onClick"])]),_:1},8,["model","onKeyup"])])])])}}});const oe=N(Q,[["__scopeId","data-v-79326910"]]);export{oe as default};
