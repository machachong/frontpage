import{_ as St,e as Ie,j as ie,o as $,K as pe,n as Be,s as k,u as be,f as v,bD as ue,b as Le,ce as ql,d as ne,bn as jl,cd as Ql,i as Zl,ad as Xl,a as Oe,l as ce,J as Q,B as fe,H as Qt,I as Zt,cf as Yl,cg as Ve,a9 as Jl,r as L,Z as Ye,m as w,w as ye,$ as xl,a0 as we,q as Fe,a1 as Je,g as At,x as _l,z as yt,aW as en,bG as tn,ch as ln,aa as de,bx as nn,bo as an,ci as on,C as ae,M as ct,S as Xt,a4 as Pe,bq as sn,F as rn,cj as un,a3 as Ce,X as cn,ca as dn,by as je,a5 as Bt,a6 as Ee,ar as Qe,bE as fn,P as He,p as W,aP as mn,b7 as vn,b8 as pn,A as ge,k as me,at as dt,ac as ft,af as Ae,ck as hn,R as gn,E as bn,bs as Ft,G as Sn,t as yn,aB as wn,ay as Pt}from"./index-Cq0hu8dX.js";import{v as On}from"./el-loading-DGAnjgXW.js";import{i as In,a as Vn,u as Tn}from"./el-input-kk0ourzJ.js";import{t as Ht,E as En}from"./el-tag-Btxsk7Ln.js";import{l as Mn,u as Cn,B as Rn,a as zn}from"./el-scrollbar-BhINAkVa.js";import{c as Yt,r as Jt,i as Ze,f as Ln,u as Nn,a as kn,E as $n}from"./el-select-D4JQAMTC.js";import{E as Dn}from"./el-card-Iip8AZ5C.js";import{C as xt,U as _t,u as An,d as Bn}from"./index-CEd7hGSD.js";import{a as Fn,c as Pn,b as Hn}from"./use-form-common-props-DOUBQZCF.js";import{e as Wn}from"./strings-BvlZkgKx.js";import{d as Kn}from"./debounce-BKy1d2FE.js";import{C as Gn}from"./index-D-MFBJeb.js";import{_ as Un}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focus-trap-CUETs5n5.js";const qn=Ie({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:be("select")}}});function jn(e,l,n,a,u,i){return $(),ie("div",{class:k(e.ns.be("group","title")),style:Be({...e.style,lineHeight:`${e.height}px`})},pe(e.item.label),7)}var Qn=St(qn,[["render",jn],["__file","group-item.vue"]]);function Zn(e,{emit:l}){return{hoverItem:()=>{e.disabled||l("hover",e.index)},selectOptionClick:()=>{e.disabled||l("select",e.item,e.index)}}}const el={label:"label",value:"value",disabled:"disabled",options:"options"};function et(e){const l=v(()=>({...el,...e.props}));return{aliasProps:l,getLabel:c=>ue(c,l.value.label),getValue:c=>ue(c,l.value.value),getDisabled:c=>ue(c,l.value.disabled),getOptions:c=>ue(c,l.value.options)}}const Xn=Le({allowCreate:Boolean,autocomplete:{type:ne(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Zl,default:Ql},effect:{type:ne(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:ne([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:ne(Array),required:!0},placeholder:{type:String},teleported:Cn.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:ne(Object),default:()=>({})},remote:Boolean,size:jl,props:{type:ne(Object),default:()=>el},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:ne(String),values:Mn,default:"bottom-start"},fallbackPlacements:{type:ne(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Ht.type,default:"info"},tagEffect:{...Ht.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return Xl(e)||Oe(e)}},...ql,...An(["ariaLabel"])}),Yn=Le({data:Array,disabled:Boolean,hovering:Boolean,item:{type:ne(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),Jn={[_t]:e=>!0,[xt]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},xn={hover:e=>Oe(e),select:(e,l)=>!0},wt=Symbol("ElSelectV2Injection"),_n=Ie({props:Yn,emits:xn,setup(e,{emit:l}){const n=Qt(wt),a=be("select"),{hoverItem:u,selectOptionClick:i}=Zn(e,{emit:l}),{getLabel:c}=et(n.props);return{ns:a,hoverItem:u,selectOptionClick:i,getLabel:c}}});function ea(e,l,n,a,u,i){return $(),ie("li",{"aria-selected":e.selected,style:Be(e.style),class:k([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:e.hoverItem,onClick:fe(e.selectOptionClick,["stop"])},[ce(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Q("span",null,pe(e.getLabel(e.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var ta=St(_n,[["render",ea],["__file","option-item.vue"]]),Wt=Number.isNaN||function(l){return typeof l=="number"&&l!==l};function la(e,l){return!!(e===l||Wt(e)&&Wt(l))}function na(e,l){if(e.length!==l.length)return!1;for(var n=0;n<e.length;n++)if(!la(e[n],l[n]))return!1;return!0}function aa(e,l){l===void 0&&(l=na);var n=null;function a(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];if(n&&n.lastThis===this&&l(u,n.lastArgs))return n.lastResult;var c=e.apply(this,u);return n={lastResult:c,lastArgs:u,lastThis:this},c}return a.clear=function(){n=null},a}const oa=()=>{const l=Zt().proxy.$props;return v(()=>{const n=(a,u,i)=>({});return l.perfMode?Yl(n):aa(n)})},sa=50,Kt="itemRendered",Gt="scroll",tl="forward",ll="backward",We="auto",nl="smart",al="start",xe="center",ol="end",ze="horizontal",Ot="vertical",ia="ltr",Xe="rtl",mt="negative",sl="positive-ascending",il="positive-descending",ra={[ze]:"left",[Ot]:"top"},ua=20,ca={[ze]:"deltaX",[Ot]:"deltaY"},da=({atEndEdge:e,atStartEdge:l,layout:n},a)=>{let u,i=0;const c=h=>h<0&&l.value||h>0&&e.value;return{hasReachedEdge:c,onWheel:h=>{Yt(u);const m=h[ca[n.value]];c(i)&&c(i+m)||(i+=m,In()||h.preventDefault(),u=Jt(()=>{a(i),i=0}))}}},vt=Ve({type:ne([Number,Function]),required:!0}),pt=Ve({type:Number}),ht=Ve({type:Number,default:2}),fa=Ve({type:String,values:["ltr","rtl"],default:"ltr"}),gt=Ve({type:Number,default:0}),_e=Ve({type:Number,required:!0}),rl=Ve({type:String,values:["horizontal","vertical"],default:Ot}),ul=Le({className:{type:String,default:""},containerElement:{type:ne([String,Object]),default:"div"},data:{type:ne(Array),default:()=>Jl([])},direction:fa,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:ne([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),ma=Le({cache:ht,estimatedItemSize:pt,layout:rl,initScrollOffset:gt,total:_e,itemSize:vt,...ul}),bt={type:Number,default:6},cl={type:Number,default:0},dl={type:Number,default:2};Le({columnCache:ht,columnWidth:vt,estimatedColumnWidth:pt,estimatedRowHeight:pt,initScrollLeft:gt,initScrollTop:gt,itemKey:{type:ne(Function),default:({columnIndex:e,rowIndex:l})=>`${l}:${e}`},rowCache:ht,rowHeight:vt,totalColumn:_e,totalRow:_e,hScrollbarSize:bt,vScrollbarSize:bt,scrollbarStartGap:cl,scrollbarEndGap:dl,role:String,...ul});const va=Le({alwaysOn:Boolean,class:String,layout:rl,total:_e,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:bt,startGap:cl,endGap:dl,visible:Boolean}),ut=(e,l)=>e<l?tl:ll,Ke=e=>e===ia||e===Xe||e===ze;let Me=null;function Ut(e=!1){if(Me===null||e){const l=document.createElement("div"),n=l.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const a=document.createElement("div"),u=a.style;return u.width="100px",u.height="100px",l.appendChild(a),document.body.appendChild(l),l.scrollLeft>0?Me=il:(l.scrollLeft=1,l.scrollLeft===0?Me=mt:Me=sl),document.body.removeChild(l),Me}return Me}function pa({move:e,size:l,bar:n},a){const u={},i=`translate${n.axis}(${e}px)`;return u[n.size]=l,u.transform=i,u.msTransform=i,u.webkitTransform=i,a==="horizontal"?u.height="100%":u.width="100%",u}const ha=Ie({name:"ElVirtualScrollBar",props:va,emits:["scroll","start-move","stop-move"],setup(e,{emit:l}){const n=v(()=>e.startGap+e.endGap),a=be("virtual-scrollbar"),u=be("scrollbar"),i=L(),c=L();let p=null,h=null;const m=Ye({isDragging:!1,traveled:0}),r=v(()=>Rn[e.layout]),d=v(()=>e.clientSize-w(n)),I=v(()=>({position:"absolute",width:`${ze===e.layout?d.value:e.scrollbarSize}px`,height:`${ze===e.layout?e.scrollbarSize:d.value}px`,[ra[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),C=v(()=>{const y=e.ratio,D=e.clientSize;if(y>=100)return Number.POSITIVE_INFINITY;if(y>=50)return y*D/100;const P=D/3;return Math.floor(Math.min(Math.max(y*D,ua),P))}),N=v(()=>{if(!Number.isFinite(C.value))return{display:"none"};const y=`${C.value}px`;return pa({bar:r.value,size:y,move:m.traveled},e.layout)}),o=v(()=>Math.floor(e.clientSize-C.value-w(n))),X=()=>{window.addEventListener("mousemove",E),window.addEventListener("mouseup",Y);const y=w(c);y&&(h=document.onselectstart,document.onselectstart=()=>!1,y.addEventListener("touchmove",E,{passive:!0}),y.addEventListener("touchend",Y))},F=()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",Y),document.onselectstart=h,h=null;const y=w(c);y&&(y.removeEventListener("touchmove",E),y.removeEventListener("touchend",Y))},te=y=>{y.stopImmediatePropagation(),!(y.ctrlKey||[1,2].includes(y.button))&&(m.isDragging=!0,m[r.value.axis]=y.currentTarget[r.value.offset]-(y[r.value.client]-y.currentTarget.getBoundingClientRect()[r.value.direction]),l("start-move"),X())},Y=()=>{m.isDragging=!1,m[r.value.axis]=0,l("stop-move"),F()},E=y=>{const{isDragging:D}=m;if(!D||!c.value||!i.value)return;const P=m[r.value.axis];if(!P)return;Yt(p);const x=(i.value.getBoundingClientRect()[r.value.direction]-y[r.value.client])*-1,_=c.value[r.value.offset]-P,S=x-_;p=Jt(()=>{m.traveled=Math.max(e.startGap,Math.min(S,o.value)),l("scroll",S,o.value)})},J=y=>{const D=Math.abs(y.target.getBoundingClientRect()[r.value.direction]-y[r.value.client]),P=c.value[r.value.offset]/2,x=D-P;m.traveled=Math.max(0,Math.min(x,o.value)),l("scroll",x,o.value)};return ye(()=>e.scrollFrom,y=>{m.isDragging||(m.traveled=Math.ceil(y*o.value))}),xl(()=>{F()}),()=>we("div",{role:"presentation",ref:i,class:[a.b(),e.class,(e.alwaysOn||m.isDragging)&&"always-on"],style:I.value,onMousedown:fe(J,["stop","prevent"]),onTouchstartPrevent:te},we("div",{ref:c,class:u.e("thumb"),style:N.value,onMousedown:te},[]))}}),fl=({name:e,getOffset:l,getItemSize:n,getItemOffset:a,getEstimatedTotalSize:u,getStartIndexForOffset:i,getStopIndexForStartIndex:c,initCache:p,clearCache:h,validateProps:m})=>Ie({name:e??"ElVirtualList",props:ma,emits:[Kt,Gt],setup(r,{emit:d,expose:I}){m(r);const C=Zt(),N=be("vl"),o=L(p(r,C)),X=oa(),F=L(),te=L(),Y=L(),E=L({isScrolling:!1,scrollDir:"forward",scrollOffset:Oe(r.initScrollOffset)?r.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:r.scrollbarAlwaysOn}),J=v(()=>{const{total:g,cache:M}=r,{isScrolling:T,scrollDir:H,scrollOffset:z}=w(E);if(g===0)return[0,0,0,0];const U=i(r,z,w(o)),B=c(r,U,z,w(o)),he=!T||H===ll?Math.max(1,M):1,ve=!T||H===tl?Math.max(1,M):1;return[Math.max(0,U-he),Math.max(0,Math.min(g-1,B+ve)),U,B]}),y=v(()=>u(r,w(o))),D=v(()=>Ke(r.layout)),P=v(()=>[{position:"relative",[`overflow-${D.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:r.direction,height:Oe(r.height)?`${r.height}px`:r.height,width:Oe(r.width)?`${r.width}px`:r.width},r.style]),x=v(()=>{const g=w(y),M=w(D);return{height:M?"100%":`${g}px`,pointerEvents:w(E).isScrolling?"none":void 0,width:M?`${g}px`:"100%"}}),_=v(()=>D.value?r.width:r.height),{onWheel:S}=da({atStartEdge:v(()=>E.value.scrollOffset<=0),atEndEdge:v(()=>E.value.scrollOffset>=y.value),layout:v(()=>r.layout)},g=>{var M,T;(T=(M=Y.value).onMouseUp)==null||T.call(M),G(Math.min(E.value.scrollOffset+g,y.value-_.value))});_l(F,"wheel",S,{passive:!1});const V=()=>{const{total:g}=r;if(g>0){const[z,U,B,he]=w(J);d(Kt,z,U,B,he)}const{scrollDir:M,scrollOffset:T,updateRequested:H}=w(E);d(Gt,M,T,H)},A=g=>{const{clientHeight:M,scrollHeight:T,scrollTop:H}=g.currentTarget,z=w(E);if(z.scrollOffset===H)return;const U=Math.max(0,Math.min(H,T-M));E.value={...z,isScrolling:!0,scrollDir:ut(z.scrollOffset,U),scrollOffset:U,updateRequested:!1},de(R)},q=g=>{const{clientWidth:M,scrollLeft:T,scrollWidth:H}=g.currentTarget,z=w(E);if(z.scrollOffset===T)return;const{direction:U}=r;let B=T;if(U===Xe)switch(Ut()){case mt:{B=-T;break}case il:{B=H-M-T;break}}B=Math.max(0,Math.min(B,H-M)),E.value={...z,isScrolling:!0,scrollDir:ut(z.scrollOffset,B),scrollOffset:B,updateRequested:!1},de(R)},K=g=>{w(D)?q(g):A(g),V()},ee=(g,M)=>{const T=(y.value-_.value)/M*g;G(Math.min(y.value-_.value,T))},G=g=>{g=Math.max(g,0),g!==w(E).scrollOffset&&(E.value={...w(E),scrollOffset:g,scrollDir:ut(w(E).scrollOffset,g),updateRequested:!0},de(R))},Z=(g,M=We)=>{const{scrollOffset:T}=w(E);g=Math.max(0,Math.min(g,r.total-1)),G(l(r,g,M,T,w(o)))},re=g=>{const{direction:M,itemSize:T,layout:H}=r,z=X.value(h&&T,h&&H,h&&M);let U;if(nn(z,String(g)))U=z[g];else{const B=a(r,g,w(o)),he=n(r,g,w(o)),ve=w(D),Ne=M===Xe,ke=ve?B:0;z[g]=U={position:"absolute",left:Ne?void 0:`${ke}px`,right:Ne?`${ke}px`:void 0,top:ve?0:`${B}px`,height:ve?"100%":`${he}px`,width:ve?`${he}px`:"100%"}}return U},R=()=>{E.value.isScrolling=!1,de(()=>{X.value(-1,null,null)})},O=()=>{const g=F.value;g&&(g.scrollTop=0)};yt(()=>{if(!en)return;const{initScrollOffset:g}=r,M=w(F);Oe(g)&&M&&(w(D)?M.scrollLeft=g:M.scrollTop=g),V()}),tn(()=>{const{direction:g,layout:M}=r,{scrollOffset:T,updateRequested:H}=w(E),z=w(F);if(H&&z)if(M===ze)if(g===Xe)switch(Ut()){case mt:{z.scrollLeft=-T;break}case sl:{z.scrollLeft=T;break}default:{const{clientWidth:U,scrollWidth:B}=z;z.scrollLeft=B-U-T;break}}else z.scrollLeft=T;else z.scrollTop=T}),ln(()=>{w(F).scrollTop=w(E).scrollOffset});const oe={ns:N,clientSize:_,estimatedTotalSize:y,windowStyle:P,windowRef:F,innerRef:te,innerStyle:x,itemsToRender:J,scrollbarRef:Y,states:E,getItemStyle:re,onScroll:K,onScrollbarScroll:ee,onWheel:S,scrollTo:G,scrollToItem:Z,resetScrollTop:O};return I({windowRef:F,innerRef:te,getItemStyleCache:X,scrollTo:G,scrollToItem:Z,resetScrollTop:O,states:E}),oe},render(r){var d;const{$slots:I,className:C,clientSize:N,containerElement:o,data:X,getItemStyle:F,innerElement:te,itemsToRender:Y,innerStyle:E,layout:J,total:y,onScroll:D,onScrollbarScroll:P,states:x,useIsScrolling:_,windowStyle:S,ns:V}=r,[A,q]=Y,K=Fe(o),ee=Fe(te),G=[];if(y>0)for(let O=A;O<=q;O++)G.push(we(Je,{key:O},(d=I.default)==null?void 0:d.call(I,{data:X,index:O,isScrolling:_?x.isScrolling:void 0,style:F(O)})));const Z=[we(ee,{style:E,ref:"innerRef"},At(ee)?G:{default:()=>G})],re=we(ha,{ref:"scrollbarRef",clientSize:N,layout:J,onScroll:P,ratio:N*100/this.estimatedTotalSize,scrollFrom:x.scrollOffset/(this.estimatedTotalSize-N),total:y}),R=we(K,{class:[V.e("window"),C],style:S,onScroll:D,ref:"windowRef",key:0},At(K)?[Z]:{default:()=>[Z]});return we("div",{key:0,class:[V.e("wrapper"),x.scrollbarAlwaysOn?"always-on":""]},[R,re])}}),ga=fl({name:"ElFixedSizeList",getItemOffset:({itemSize:e},l)=>l*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:l})=>l*e,getOffset:({height:e,total:l,itemSize:n,layout:a,width:u},i,c,p)=>{const h=Ke(a)?u:e,m=Math.max(0,l*n-h),r=Math.min(m,i*n),d=Math.max(0,(i+1)*n-h);switch(c===nl&&(p>=d-h&&p<=r+h?c=We:c=xe),c){case al:return r;case ol:return d;case xe:{const I=Math.round(d+(r-d)/2);return I<Math.ceil(h/2)?0:I>m+Math.floor(h/2)?m:I}case We:default:return p>=d&&p<=r?p:p<d?d:r}},getStartIndexForOffset:({total:e,itemSize:l},n)=>Math.max(0,Math.min(e-1,Math.floor(n/l))),getStopIndexForStartIndex:({height:e,total:l,itemSize:n,layout:a,width:u},i,c)=>{const p=i*n,h=Ke(a)?u:e,m=Math.ceil((h+c-p)/n);return Math.max(0,Math.min(l-1,i+m-1))},initCache(){},clearCache:!0,validateProps(){}}),Re=(e,l,n)=>{const{itemSize:a}=e,{items:u,lastVisitedIndex:i}=n;if(l>i){let c=0;if(i>=0){const p=u[i];c=p.offset+p.size}for(let p=i+1;p<=l;p++){const h=a(p);u[p]={offset:c,size:h},c+=h}n.lastVisitedIndex=l}return u[l]},ba=(e,l,n)=>{const{items:a,lastVisitedIndex:u}=l;return(u>0?a[u].offset:0)>=n?ml(e,l,0,u,n):Sa(e,l,Math.max(0,u),n)},ml=(e,l,n,a,u)=>{for(;n<=a;){const i=n+Math.floor((a-n)/2),c=Re(e,i,l).offset;if(c===u)return i;c<u?n=i+1:c>u&&(a=i-1)}return Math.max(0,n-1)},Sa=(e,l,n,a)=>{const{total:u}=e;let i=1;for(;n<u&&Re(e,n,l).offset<a;)n+=i,i*=2;return ml(e,l,Math.floor(n/2),Math.min(n,u-1),a)},qt=({total:e},{items:l,estimatedItemSize:n,lastVisitedIndex:a})=>{let u=0;if(a>=e&&(a=e-1),a>=0){const p=l[a];u=p.offset+p.size}const c=(e-a-1)*n;return u+c},ya=fl({name:"ElDynamicSizeList",getItemOffset:(e,l,n)=>Re(e,l,n).offset,getItemSize:(e,l,{items:n})=>n[l].size,getEstimatedTotalSize:qt,getOffset:(e,l,n,a,u)=>{const{height:i,layout:c,width:p}=e,h=Ke(c)?p:i,m=Re(e,l,u),r=qt(e,u),d=Math.max(0,Math.min(r-h,m.offset)),I=Math.max(0,m.offset-h+m.size);switch(n===nl&&(a>=I-h&&a<=d+h?n=We:n=xe),n){case al:return d;case ol:return I;case xe:return Math.round(I+(d-I)/2);case We:default:return a>=I&&a<=d?a:a<I?I:d}},getStartIndexForOffset:(e,l,n)=>ba(e,n,l),getStopIndexForStartIndex:(e,l,n,a)=>{const{height:u,total:i,layout:c,width:p}=e,h=Ke(c)?p:u,m=Re(e,l,a),r=n+h;let d=m.offset+m.size,I=l;for(;I<i-1&&d<r;)I++,d+=Re(e,I,a).size;return I},initCache({estimatedItemSize:e=sa},l){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(a,u=!0)=>{var i,c;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,a-1),(i=l.exposed)==null||i.getItemStyleCache(-1),u&&((c=l.proxy)==null||c.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),wa={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var Oa=Ie({name:"ElSelectDropdown",props:wa,setup(e,{slots:l,expose:n}){const a=Qt(wt),u=be("select"),{getLabel:i,getValue:c,getDisabled:p}=et(a.props),h=L([]),m=L(),r=v(()=>e.data.length);ye(()=>r.value,()=>{var S,V;(V=(S=a.tooltipRef.value).updatePopper)==null||V.call(S)});const d=v(()=>an(a.props.estimatedOptionHeight)),I=v(()=>d.value?{itemSize:a.props.itemHeight}:{estimatedSize:a.props.estimatedOptionHeight,itemSize:S=>h.value[S]}),C=(S=[],V)=>{const{props:{valueKey:A}}=a;return Pe(V)?S&&S.some(q=>sn(ue(q,A))===ue(V,A)):S.includes(V)},N=(S,V)=>{if(Pe(V)){const{valueKey:A}=a.props;return ue(S,A)===ue(V,A)}else return S===V},o=(S,V)=>a.props.multiple?C(S,c(V)):N(S,c(V)),X=(S,V)=>{const{disabled:A,multiple:q,multipleLimit:K}=a.props;return A||!V&&(q?K>0&&S.length>=K:!1)},F=S=>e.hoveringIndex===S;n({listRef:m,isSized:d,isItemDisabled:X,isItemHovering:F,isItemSelected:o,scrollToItem:S=>{const V=m.value;V&&V.scrollToItem(S)},resetScrollTop:()=>{const S=m.value;S&&S.resetScrollTop()}});const J=S=>{const{index:V,data:A,style:q}=S,K=w(d),{itemSize:ee,estimatedSize:G}=w(I),{modelValue:Z}=a.props,{onSelect:re,onHover:R}=a,O=A[V];if(O.type==="Group")return ae(Qn,{item:O,style:q,height:K?ee:G},null);const oe=o(Z,O),g=X(Z,oe),M=F(V);return ae(ta,ct(S,{selected:oe,disabled:p(O)||g,created:!!O.created,hovering:M,item:O,onSelect:re,onHover:R}),{default:T=>{var H;return((H=l.default)==null?void 0:H.call(l,T))||ae("span",null,[i(O)])}})},{onKeyboardNavigate:y,onKeyboardSelect:D}=a,P=()=>{y("forward")},x=()=>{y("backward")},_=S=>{const{code:V}=S,{tab:A,esc:q,down:K,up:ee,enter:G,numpadEnter:Z}=Xt;switch([q,K,ee,G,Z].includes(V)&&(S.preventDefault(),S.stopPropagation()),V){case A:case q:break;case K:P();break;case ee:x();break;case G:case Z:D();break}};return()=>{var S,V,A,q;const{data:K,width:ee}=e,{height:G,multiple:Z,scrollbarAlwaysOn:re}=a.props,R=v(()=>on?!0:re),O=w(d)?ga:ya;return ae("div",{class:[u.b("dropdown"),u.is("multiple",Z)],style:{width:`${ee}px`}},[(S=l.header)==null?void 0:S.call(l),((V=l.loading)==null?void 0:V.call(l))||((A=l.empty)==null?void 0:A.call(l))||ae(O,ct({ref:m},w(I),{className:u.be("dropdown","list"),scrollbarAlwaysOn:R.value,data:K,height:G,width:ee,total:K.length,onKeydown:_}),{default:oe=>ae(J,oe,null)}),(q=l.footer)==null?void 0:q.call(l)])}}});function Ia(e,l){const{aliasProps:n,getLabel:a,getValue:u}=et(e),i=L(0),c=L(),p=v(()=>e.allowCreate&&e.filterable);function h(C){const N=o=>a(o)===C;return e.options&&e.options.some(N)||l.createdOptions.some(N)}function m(C){p.value&&(e.multiple&&C.created?i.value++:c.value=C)}function r(C){if(p.value)if(C&&C.length>0){if(h(C))return;const N={[n.value.value]:C,[n.value.label]:C,created:!0,[n.value.disabled]:!1};l.createdOptions.length>=i.value?l.createdOptions[i.value]=N:l.createdOptions.push(N)}else if(e.multiple)l.createdOptions.length=i.value;else{const N=c.value;l.createdOptions.length=0,N&&N.created&&l.createdOptions.push(N)}}function d(C){if(!p.value||!C||!C.created||C.created&&e.reserveKeyword&&l.inputValue===a(C))return;const N=l.createdOptions.findIndex(o=>u(o)===u(C));~N&&(l.createdOptions.splice(N,1),i.value--)}function I(){p.value&&(l.createdOptions.length=0,i.value=0)}return{createNewOption:r,removeNewOption:d,selectNewOption:m,clearAllNewOption:I}}const Va=(e,l)=>{const{t:n}=rn(),a=be("select"),u=be("input"),{form:i,formItem:c}=Fn(),{inputId:p}=Pn(e,{formItemContext:c}),{aliasProps:h,getLabel:m,getValue:r,getDisabled:d,getOptions:I}=et(e),{valueOnClear:C,isEmptyValue:N}=un(e),o=Ye({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),X=L(-1),F=L(),te=L(),Y=L(),E=L(),J=L(),y=L(),D=L(),P=L(),x=L(),_=L(),{isComposing:S,handleCompositionStart:V,handleCompositionEnd:A,handleCompositionUpdate:q}=Vn({afterComposition:t=>Dt(t)}),{wrapperRef:K,isFocused:ee,handleBlur:G}=Tn(J,{beforeFocus(){return oe.value},afterFocus(){e.automaticDropdown&&!O.value&&(O.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(t){var s,f;return((s=Y.value)==null?void 0:s.isFocusInsideContent(t))||((f=E.value)==null?void 0:f.isFocusInsideContent(t))},afterBlur(){O.value=!1,o.menuVisibleOnFocus=!1}}),Z=v(()=>ke("")),re=v(()=>e.loading?!1:e.options.length>0||o.createdOptions.length>0),R=L([]),O=L(!1),oe=v(()=>e.disabled||(i==null?void 0:i.disabled)),g=v(()=>{var t;return(t=i==null?void 0:i.statusIcon)!=null?t:!1}),M=v(()=>{const t=R.value.length*e.itemHeight;return t>e.height?e.height:t}),T=v(()=>e.multiple?Ce(e.modelValue)&&e.modelValue.length>0:!N(e.modelValue)),H=v(()=>e.clearable&&!oe.value&&o.inputHovering&&T.value),z=v(()=>e.remote&&e.filterable?"":cn),U=v(()=>z.value&&a.is("reverse",O.value)),B=v(()=>(c==null?void 0:c.validateState)||""),he=v(()=>{if(B.value)return dn[B.value]}),ve=v(()=>e.remote?300:0),Ne=v(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!o.inputValue&&!re.value?!1:e.filterable&&o.inputValue&&re.value&&R.value.length===0?e.noMatchText||n("el.select.noMatch"):re.value?null:e.noDataText||n("el.select.noData")),ke=t=>{const s=new RegExp(Wn(t),"i"),f=e.filterable&&je(e.filterMethod),b=e.filterable&&e.remote&&je(e.remoteMethod),j=se=>f||b?!0:t?s.test(m(se)||""):!0;return e.loading?[]:[...o.createdOptions,...e.options].reduce((se,Se)=>{const Te=I(Se);if(Ce(Te)){const qe=Te.filter(j);qe.length>0&&se.push({label:m(Se),type:"Group"},...qe)}else(e.remote||j(Se))&&se.push(Se);return se},[])},It=()=>{R.value=ke(o.inputValue)},Vt=v(()=>{const t=new Map;return Z.value.forEach((s,f)=>{t.set(le(r(s)),{option:s,index:f})}),t}),Ge=v(()=>{const t=new Map;return R.value.forEach((s,f)=>{t.set(le(r(s)),{option:s,index:f})}),t}),vl=v(()=>R.value.every(t=>d(t))),Tt=Hn(),pl=v(()=>Tt.value==="small"?"small":"default"),$e=()=>{var t;if(Oe(e.fitInputWidth)){X.value=e.fitInputWidth;return}const s=((t=F.value)==null?void 0:t.offsetWidth)||200;!e.fitInputWidth&&re.value?de(()=>{X.value=Math.max(s,hl())}):X.value=s},hl=()=>{var t,s;const b=document.createElement("canvas").getContext("2d"),j=a.be("dropdown","item"),Se=(((s=(t=P.value)==null?void 0:t.listRef)==null?void 0:s.innerRef)||document).querySelector(`.${j}`);if(Se===null||b===null)return 0;const Te=getComputedStyle(Se),qe=Number.parseFloat(Te.paddingLeft)+Number.parseFloat(Te.paddingRight);return b.font=Te.font,R.value.reduce((Kl,Gl)=>{const Ul=b.measureText(m(Gl));return Math.max(Ul.width,Kl)},0)+qe},gl=()=>{if(!te.value)return 0;const t=window.getComputedStyle(te.value);return Number.parseFloat(t.gap||"6px")},bl=v(()=>{const t=gl();return{maxWidth:`${_.value&&e.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-t:o.selectionWidth}px`}}),Sl=v(()=>({maxWidth:`${o.selectionWidth}px`})),yl=v(()=>Ce(e.modelValue)?e.modelValue.length===0&&!o.inputValue:e.filterable?!o.inputValue:!0),wl=v(()=>{var t;const s=(t=e.placeholder)!=null?t:n("el.select.placeholder");return e.multiple||!T.value?s:o.selectedLabel}),Ol=v(()=>{var t,s;return(s=(t=Y.value)==null?void 0:t.popperRef)==null?void 0:s.contentRef}),Il=v(()=>{if(e.multiple){const t=e.modelValue.length;if(e.modelValue.length>0&&Ge.value.has(e.modelValue[t-1])){const{index:s}=Ge.value.get(e.modelValue[t-1]);return s}}else if(!N(e.modelValue)&&Ge.value.has(e.modelValue)){const{index:t}=Ge.value.get(e.modelValue);return t}return-1}),Vl=v({get(){return O.value&&Ne.value!==!1},set(t){O.value=t}}),Tl=v(()=>e.multiple?e.collapseTags?o.cachedOptions.slice(0,e.maxCollapseTags):o.cachedOptions:[]),El=v(()=>e.multiple?e.collapseTags?o.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:Et,removeNewOption:tt,selectNewOption:Mt,clearAllNewOption:lt}=Ia(e,o),nt=()=>{oe.value||(o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:O.value=!O.value)},Ct=()=>{o.inputValue.length>0&&!O.value&&(O.value=!0),Et(o.inputValue),at(o.inputValue)},Rt=Kn(Ct,ve.value),at=t=>{o.previousQuery===t||S.value||(o.previousQuery=t,e.filterable&&je(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&je(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&R.value.length?de(Ml):de(Fl))},Ml=()=>{const t=R.value.filter(b=>!b.disabled&&b.type!=="Group"),s=t.find(b=>b.created),f=t[0];o.hoveringIndex=ot(R.value,s||f)},Cl=t=>{Ze(e.modelValue,t)||l(xt,t)},De=t=>{l(_t,t),Cl(t),o.previousValue=e.multiple?String(t):t},ot=(t=[],s)=>{if(!Pe(s))return t.indexOf(s);const f=e.valueKey;let b=-1;return t.some((j,se)=>ue(j,f)===ue(s,f)?(b=se,!0):!1),b},le=t=>Pe(t)?ue(t,e.valueKey):t,zt=()=>{$e()},Lt=()=>{o.selectionWidth=te.value.getBoundingClientRect().width},Rl=()=>{o.collapseItemWidth=_.value.getBoundingClientRect().width},st=()=>{var t,s;(s=(t=Y.value)==null?void 0:t.updatePopper)==null||s.call(t)},Nt=()=>{var t,s;(s=(t=E.value)==null?void 0:t.updatePopper)==null||s.call(t)},kt=t=>{if(e.multiple){let s=e.modelValue.slice();const f=ot(s,r(t));f>-1?(s=[...s.slice(0,f),...s.slice(f+1)],o.cachedOptions.splice(f,1),tt(t)):(e.multipleLimit<=0||s.length<e.multipleLimit)&&(s=[...s,r(t)],o.cachedOptions.push(t),Mt(t),de(()=>{Ze(s,e.modelValue)||o.cachedOptions.pop()})),De(s),t.created&&at(""),e.filterable&&!e.reserveKeyword&&(o.inputValue="")}else o.selectedLabel=m(t),De(r(t)),O.value=!1,Mt(t),t.created||lt();Ue()},zl=(t,s)=>{let f=e.modelValue.slice();const b=ot(f,r(s));b>-1&&!oe.value&&(f=[...e.modelValue.slice(0,b),...e.modelValue.slice(b+1)],o.cachedOptions.splice(b,1),De(f),l("remove-tag",r(s)),tt(s)),t.stopPropagation(),Ue()},Ue=()=>{var t;(t=J.value)==null||t.focus()},Ll=()=>{var t;if(O.value){O.value=!1,de(()=>{var s;return(s=J.value)==null?void 0:s.blur()});return}(t=J.value)==null||t.blur()},Nl=()=>{o.inputValue.length>0?o.inputValue="":O.value=!1},kl=t=>Ln(t,s=>!o.cachedOptions.some(f=>r(f)===s&&d(f))),$l=t=>{if(e.multiple&&t.code!==Xt.delete&&o.inputValue.length===0){t.preventDefault();const s=e.modelValue.slice(),f=kl(s);if(f<0)return;const b=s[f];s.splice(f,1);const j=o.cachedOptions[f];o.cachedOptions.splice(f,1),tt(j),De(s),l("remove-tag",b)}},Dl=()=>{let t;Ce(e.modelValue)?t=[]:t=C.value,e.multiple?o.cachedOptions=[]:o.selectedLabel="",O.value=!1,De(t),l("clear"),lt(),Ue()},$t=(t,s=void 0)=>{const f=R.value;if(!["forward","backward"].includes(t)||oe.value||f.length<=0||vl.value||S.value)return;if(!O.value)return nt();s===void 0&&(s=o.hoveringIndex);let b=-1;t==="forward"?(b=s+1,b>=f.length&&(b=0)):t==="backward"&&(b=s-1,(b<0||b>=f.length)&&(b=f.length-1));const j=f[b];if(d(j)||j.type==="Group")return $t(t,b);o.hoveringIndex=b,it(b)},Al=()=>{if(O.value)~o.hoveringIndex&&R.value[o.hoveringIndex]&&kt(R.value[o.hoveringIndex]);else return nt()},Bl=t=>{o.hoveringIndex=t??-1},Fl=()=>{e.multiple?o.hoveringIndex=R.value.findIndex(t=>e.modelValue.some(s=>le(s)===le(t))):o.hoveringIndex=R.value.findIndex(t=>le(t)===le(e.modelValue))},Dt=t=>{if(o.inputValue=t.target.value,e.remote)Rt();else return Ct()},Pl=t=>{if(O.value=!1,ee.value){const s=new FocusEvent("focus",t);G(s)}},Hl=()=>(o.isBeforeHide=!1,de(()=>{~Il.value&&it(o.hoveringIndex)})),it=t=>{P.value.scrollToItem(t)},Wl=(t,s)=>{const f=le(t);if(Vt.value.has(f)){const{option:b}=Vt.value.get(f);return b}if(s&&s.length){const b=s.find(j=>le(r(j))===f);if(b)return b}return{[h.value.value]:t,[h.value.label]:t}},rt=(t=!1)=>{if(e.multiple)if(e.modelValue.length>0){const s=o.cachedOptions.slice();o.cachedOptions.length=0,o.previousValue=e.modelValue.toString();for(const f of e.modelValue){const b=Wl(f,s);o.cachedOptions.push(b)}}else o.cachedOptions=[],o.previousValue=void 0;else if(T.value){o.previousValue=e.modelValue;const s=R.value,f=s.findIndex(b=>le(r(b))===le(e.modelValue));~f?o.selectedLabel=m(s[f]):(!o.selectedLabel||t)&&(o.selectedLabel=le(e.modelValue))}else o.selectedLabel="",o.previousValue=void 0;lt(),$e()};return ye(()=>e.fitInputWidth,()=>{$e()}),ye(O,t=>{t?(e.persistent||$e(),at("")):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0,Et("")),l("visible-change",t)}),ye(()=>e.modelValue,(t,s)=>{var f;(!t||Ce(t)&&t.length===0||e.multiple&&!Ze(t.toString(),o.previousValue)||!e.multiple&&le(t)!==le(o.previousValue))&&rt(!0),!Ze(t,s)&&e.validateEvent&&((f=c==null?void 0:c.validate)==null||f.call(c,"change").catch(j=>Bn()))},{deep:!0}),ye(()=>e.options,()=>{const t=J.value;(!t||t&&document.activeElement!==t)&&rt()},{deep:!0,flush:"post"}),ye(()=>R.value,()=>($e(),P.value&&de(P.value.resetScrollTop))),Bt(()=>{o.isBeforeHide||It()}),Bt(()=>{const{valueKey:t,options:s}=e,f=new Map;for(const b of s){const j=r(b);let se=j;if(Pe(se)&&(se=ue(j,t)),f.get(se))break;f.set(se,!0)}}),yt(()=>{rt()}),Ee(F,zt),Ee(te,Lt),Ee(P,st),Ee(K,st),Ee(x,Nt),Ee(_,Rl),{inputId:p,collapseTagSize:pl,currentPlaceholder:wl,expanded:O,emptyText:Ne,popupHeight:M,debounce:ve,allOptions:Z,filteredOptions:R,iconComponent:z,iconReverse:U,tagStyle:bl,collapseTagStyle:Sl,popperSize:X,dropdownMenuVisible:Vl,hasModelValue:T,shouldShowPlaceholder:yl,selectDisabled:oe,selectSize:Tt,needStatusIcon:g,showClearBtn:H,states:o,isFocused:ee,nsSelect:a,nsInput:u,inputRef:J,menuRef:P,tagMenuRef:x,tooltipRef:Y,tagTooltipRef:E,selectRef:F,wrapperRef:K,selectionRef:te,prefixRef:y,suffixRef:D,collapseItemRef:_,popperRef:Ol,validateState:B,validateIcon:he,showTagList:Tl,collapseTagList:El,debouncedOnInputChange:Rt,deleteTag:zl,getLabel:m,getValue:r,getDisabled:d,getValueKey:le,handleClear:Dl,handleClickOutside:Pl,handleDel:$l,handleEsc:Nl,focus:Ue,blur:Ll,handleMenuEnter:Hl,handleResize:zt,resetSelectionWidth:Lt,updateTooltip:st,updateTagTooltip:Nt,updateOptions:It,toggleMenu:nt,scrollTo:it,onInput:Dt,onKeyboardNavigate:$t,onKeyboardSelect:Al,onSelect:kt,onHover:Bl,handleCompositionStart:V,handleCompositionEnd:A,handleCompositionUpdate:q}},Ta=Ie({name:"ElSelectV2",components:{ElSelectMenu:Oa,ElTag:En,ElTooltip:zn,ElIcon:bn},directives:{ClickOutside:Gn},props:Xn,emits:Jn,setup(e,{emit:l}){const n=v(()=>{const{modelValue:p,multiple:h}=e,m=h?[]:void 0;return Ce(p)?h?p:m:h?m:p}),a=Va(Ye({...Ft(e),modelValue:n}),l),{calculatorRef:u,inputStyle:i}=Nn();Sn(wt,{props:Ye({...Ft(e),height:a.popupHeight,modelValue:n}),expanded:a.expanded,tooltipRef:a.tooltipRef,onSelect:a.onSelect,onHover:a.onHover,onKeyboardNavigate:a.onKeyboardNavigate,onKeyboardSelect:a.onKeyboardSelect});const c=v(()=>e.multiple?a.states.cachedOptions.map(p=>p.label):a.states.selectedLabel);return{...a,modelValue:n,selectedLabel:c,calculatorRef:u,inputStyle:i}}});function Ea(e,l,n,a,u,i){const c=Qe("el-tag"),p=Qe("el-tooltip"),h=Qe("el-icon"),m=Qe("el-select-menu"),r=fn("click-outside");return He(($(),ie("div",{ref:"selectRef",class:k([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:d=>e.states.inputHovering=!0,onMouseleave:d=>e.states.inputHovering=!1},[ae(p,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:d=>e.states.isBeforeHide=!1},{default:W(()=>[Q("div",{ref:"wrapperRef",class:k([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:fe(e.toggleMenu,["prevent"])},[e.$slots.prefix?($(),ie("div",{key:0,ref:"prefixRef",class:k(e.nsSelect.e("prefix"))},[ce(e.$slots,"prefix")],2)):ge("v-if",!0),Q("div",{ref:"selectionRef",class:k([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?ce(e.$slots,"tag",{key:0},()=>[($(!0),ie(Je,null,dt(e.showTagList,d=>($(),ie("div",{key:e.getValueKey(e.getValue(d)),class:k(e.nsSelect.e("selected-item"))},[ae(c,{closable:!e.selectDisabled&&!e.getDisabled(d),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Be(e.tagStyle),onClose:I=>e.deleteTag(I,d)},{default:W(()=>[Q("span",{class:k(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{label:e.getLabel(d),value:e.getValue(d)},()=>[ft(pe(e.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?($(),me(p,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:W(()=>[Q("div",{ref:"collapseItemRef",class:k(e.nsSelect.e("selected-item"))},[ae(c,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:Be(e.collapseTagStyle),"disable-transitions":""},{default:W(()=>[Q("span",{class:k(e.nsSelect.e("tags-text"))}," + "+pe(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:W(()=>[Q("div",{ref:"tagMenuRef",class:k(e.nsSelect.e("selection"))},[($(!0),ie(Je,null,dt(e.collapseTagList,d=>($(),ie("div",{key:e.getValueKey(e.getValue(d)),class:k(e.nsSelect.e("selected-item"))},[ae(c,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(d),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:I=>e.deleteTag(I,d)},{default:W(()=>[Q("span",{class:k(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{label:e.getLabel(d),value:e.getValue(d)},()=>[ft(pe(e.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):ge("v-if",!0)]):ge("v-if",!0),Q("div",{class:k([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[He(Q("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":d=>e.states.inputValue=d,style:Be(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:k([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[Ae(fe(d=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Ae(fe(d=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Ae(fe(e.onKeyboardSelect,["stop","prevent"]),["enter"]),Ae(fe(e.handleEsc,["stop","prevent"]),["esc"]),Ae(fe(e.handleDel,["stop"]),["delete"])],onClick:fe(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[hn,e.states.inputValue]]),e.filterable?($(),ie("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:k(e.nsSelect.e("input-calculator")),textContent:pe(e.states.inputValue)},null,10,["textContent"])):ge("v-if",!0)],2),e.shouldShowPlaceholder?($(),ie("div",{key:1,class:k([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?ce(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[Q("span",null,pe(e.currentPlaceholder),1)]):($(),ie("span",{key:1},pe(e.currentPlaceholder),1))],2)):ge("v-if",!0)],2),Q("div",{ref:"suffixRef",class:k(e.nsSelect.e("suffix"))},[e.iconComponent?He(($(),me(h,{key:0,class:k([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:W(()=>[($(),me(Fe(e.iconComponent)))]),_:1},8,["class"])),[[gn,!e.showClearBtn]]):ge("v-if",!0),e.showClearBtn&&e.clearIcon?($(),me(h,{key:1,class:k([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:fe(e.handleClear,["prevent","stop"])},{default:W(()=>[($(),me(Fe(e.clearIcon)))]),_:1},8,["class","onClick"])):ge("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?($(),me(h,{key:2,class:k([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:W(()=>[($(),me(Fe(e.validateIcon)))]),_:1},8,["class"])):ge("v-if",!0)],2)],10,["onClick"])]),content:W(()=>[ae(m,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},mn({default:W(d=>[ce(e.$slots,"default",vn(pn(d)))]),_:2},[e.$slots.header?{name:"header",fn:W(()=>[Q("div",{class:k(e.nsSelect.be("dropdown","header"))},[ce(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:W(()=>[Q("div",{class:k(e.nsSelect.be("dropdown","loading"))},[ce(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:W(()=>[Q("div",{class:k(e.nsSelect.be("dropdown","empty"))},[ce(e.$slots,"empty",{},()=>[Q("span",null,pe(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:W(()=>[Q("div",{class:k(e.nsSelect.be("dropdown","footer"))},[ce(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[r,e.handleClickOutside,e.popperRef]])}var Ma=St(Ta,[["render",Ea],["__file","select.vue"]]);const Ca=yn(Ma);function Ra(e){const{api:l}=e,n=L(!1),a=L([]),u=L(""),i=()=>{n.value=!0,a.value=[],l().then(c=>{a.value=c.data}).finally(()=>{n.value=!1})};return yt(()=>{i()}),{loading:n,options:a,value:u}}const za={code:0,data:[{label:"苹果",value:1},{label:"香蕉",value:2},{label:"橘子",value:3,disabled:!0}],message:"获取 Select 数据成功"},jt="接口发生错误";function La(){return new Promise((e,l)=>{setTimeout(()=>{Math.random()<.8?e(za):(l(new Error(jt)),wn.error(jt))},2e3)})}const Na={class:"app-container"},ka=Ie({__name:"use-fetch-select",setup(e){const{loading:l,options:n,value:a}=Ra({api:La});return(u,i)=>{const c=Dn,p=$n,h=kn,m=Ca,r=On;return $(),ie("div",Na,[ae(c,{shadow:"never"},{default:W(()=>i[2]||(i[2]=[ft(" 该示例是演示：通过 composable 自动调用 api 后拿到 Select 组件需要的数据并传递给 Select 组件 ")])),_:1}),He(($(),me(c,{header:"Select 示例",shadow:"never"},{default:W(()=>[ae(h,{modelValue:w(a),"onUpdate:modelValue":i[0]||(i[0]=d=>Pt(a)?a.value=d:null),filterable:""},{default:W(()=>[($(!0),ie(Je,null,dt(w(n),(d,I)=>($(),me(p,ct({ref_for:!0},d,{key:I,placeholder:"请选择"}),null,16))),128))]),_:1},8,["modelValue"])]),_:1})),[[r,w(l)]]),He(($(),me(c,{header:"Select V2 示例（如果数据量过多，可以选择该组件）",shadow:"never"},{default:W(()=>[ae(m,{modelValue:w(a),"onUpdate:modelValue":i[1]||(i[1]=d=>Pt(a)?a.value=d:null),options:w(n),filterable:"",placeholder:"请选择"},null,8,["modelValue","options"])]),_:1})),[[r,w(l)]])])}}}),Xa=Un(ka,[["__scopeId","data-v-15aa76c1"]]);export{Xa as default};
