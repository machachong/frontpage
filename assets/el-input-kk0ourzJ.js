import{aW as h,I as g,v as x,r as m,w as F,x as f,by as p,aa as w}from"./index-Cq0hu8dX.js";const _=()=>h&&/firefox/i.test(window.navigator.userAgent);function k(l,{beforeFocus:t,afterFocus:a,beforeBlur:c,afterBlur:i}={}){const r=g(),{emit:v}=r,o=x(),s=m(!1),u=n=>{p(t)&&t(n)||s.value||(s.value=!0,v("focus",n),a==null||a())},d=n=>{var e;p(c)&&c(n)||n.relatedTarget&&((e=o.value)!=null&&e.contains(n.relatedTarget))||(s.value=!1,v("blur",n),i==null||i())},C=()=>{var n,e;(n=o.value)!=null&&n.contains(document.activeElement)&&o.value!==document.activeElement||(e=l.value)==null||e.focus()};return F(o,n=>{n&&n.setAttribute("tabindex","-1")}),f(o,"focus",u,!0),f(o,"blur",d,!0),f(o,"click",C,!0),{isFocused:s,wrapperRef:o,handleFocus:u,handleBlur:d}}const b=l=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(l);function T({afterComposition:l,emit:t}){const a=m(!1),c=o=>{t==null||t("compositionstart",o),a.value=!0},i=o=>{var s;t==null||t("compositionupdate",o);const u=(s=o.target)==null?void 0:s.value,d=u[u.length-1]||"";a.value=!b(d)},r=o=>{t==null||t("compositionend",o),a.value&&(a.value=!1,w(()=>l(o)))};return{isComposing:a,handleComposition:o=>{o.type==="compositionend"?r(o):i(o)},handleCompositionStart:c,handleCompositionUpdate:i,handleCompositionEnd:r}}export{T as a,_ as i,k as u};
