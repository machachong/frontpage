import{g as vt,S as Ye,D as se,s as Ne,a as ht,u as Z,L as le,b as Ze,c as gt,d as Be,i as he,e as yt,r as bt,f as _e,h as We}from"./index-DYOLIVMd.js";import{aw as Qe,V as wt,r as N,w as et,b as P,d as z,c as L,a as T,L as _,C as $,G as F,ac as J,D as k,T as tt,ax as kt,u as n,H as ge,o as v,U as Ve,K as G,ai as ee,ay as ke,az as xe,J as W,R as ve,F as X,I as K,m as de,k as ye,aA as xt,aB as nt,a1 as ot,l as st,g as St,S as at,s as Ct,al as me,aC as ie,z as be,ab as $t,aD as Et,n as Tt,E as Se,M as Ce}from"./vue-BIr_Kbek.js";import{u as Mt}from"./useWatermark-C7OwD4Dj.js";/* empty css                  *//* empty css                        *//* empty css                     */import{_ as Lt}from"./index.vue_vue_type_script_setup_true_lang-3lUwLuzk.js";/* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                *//* empty css               *//* empty css                  *//* empty css                   *//* empty css                 */import{d as Rt,e as Vt,f as At,h as fe,i as It,j as Dt,k as rt,l as Pt,n as Ft,o as zt,p as Nt,q as lt,r as Bt,s as pe,t as Wt,a as we,u as Ut,v as $e,w as it,x as ct,y as ut,z as Ot,A as qt,B as Ht,C as jt,D as Xt,F as Kt,G as Gt,H as Jt,I as Yt,J as Zt,K as Qt,L as en,M as tn,N as nn,O as on,g as sn,P as an,Q as rn,R as ln,S as cn,T as un,U as dn}from"./element-BjlEl_2X.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-DNPBO-21.js";function fn(d){d?Ne(ht):Ne(Ye)}const ce=Qe("app",()=>{const d=wt({opened:vt()!==Ye,withoutAnimation:!1}),s=N(se.Desktop);return et(()=>d.opened,e=>{fn(e)}),{device:s,sidebar:d,toggleSidebar:e=>{d.opened=!d.opened,d.withoutAnimation=e},closeSidebar:e=>{d.opened=!1,d.withoutAnimation=e},toggleDevice:e=>{s.value=e}}}),dt=ce(),pn=P(()=>dt.device===se.Mobile),mn=P(()=>dt.device===se.Desktop);function ue(){return{isMobile:pn,isDesktop:mn}}const Ee=Z(),_n=P(()=>Ee.layoutMode===le.Left),vn=P(()=>Ee.layoutMode===le.Top),hn=P(()=>Ee.layoutMode===le.LeftTop);function gn(d){Ee.layoutMode=d}function ae(){return{isLeft:_n,isTop:vn,isLeftTop:hn,setLayoutMode:gn}}const yn={class:"app-main"},bn={class:"app-scrollbar"},wn=z({__name:"index",setup(d){const s=Ze(),u=Z();return(r,a)=>{const e=J("router-view"),t=Rt;return v(),L("section",yn,[T("div",bn,[_(e,null,{default:k(({Component:o,route:l})=>[_(tt,{name:"el-fade-in",mode:"out-in"},{default:k(()=>[(v(),$(kt,{include:n(s).cachedViews},[(v(),$(ge(o),{key:l.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),n(u).showFooter?(v(),$(n(Rn),{key:0})):F("",!0)]),_(t),_(t,{target:".app-scrollbar"})])}}}),Ae=B(wn,[["__scopeId","data-v-131b72d1"]]);function kn(d){return{all:d=d||new Map,on:function(s,u){var r=d.get(s);r?r.push(u):d.set(s,[u])},off:function(s,u){var r=d.get(s);r&&(u?r.splice(r.indexOf(u)>>>0,1):d.set(s,[]))},emit:function(s,u){var r=d.get(s);r&&r.slice().map(function(a){a(u)}),(r=d.get("*"))&&r.slice().map(function(a){a(s,u)})}}}const Ue=kn(),Oe=Symbol("ROUTE_CHANGE");function Te(){const d=[],s=(r,a=!1)=>{d.push(r),Ue.on(Oe,r)},u=r=>{Ue.off(Oe,r)};return Ve(()=>{d.forEach(u)}),{listenerRouteChange:s,removeRouteListener:u}}var Y={},qe;function xn(){if(qe)return Y;qe=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.TokenData=void 0,Y.parse=h,Y.compile=x,Y.match=w,Y.pathToRegexp=R,Y.stringify=q;const d="/",s=m=>m,u=/^[$_\p{ID_Start}]$/u,r=/^[$\u200c\u200d\p{ID_Continue}]$/u,a="https://git.new/pathToRegexpError",e={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function t(m){return m.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function o(m){return m.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*l(m){const c=[...m];let f=0;function C(){let S="";if(u.test(c[++f]))for(S+=c[f];r.test(c[++f]);)S+=c[f];else if(c[f]==='"'){let g=f;for(;f<c.length;){if(c[++f]==='"'){f++,g=0;break}c[f]==="\\"?S+=c[++f]:S+=c[f]}if(g)throw new TypeError(`Unterminated quote at ${g}: ${a}`)}if(!S)throw new TypeError(`Missing parameter name at ${f}: ${a}`);return S}for(;f<c.length;){const S=c[f],g=e[S];if(g)yield{type:g,index:f++,value:S};else if(S==="\\")yield{type:"ESCAPED",index:f++,value:c[f++]};else if(S===":"){const M=C();yield{type:"PARAM",index:f,value:M}}else if(S==="*"){const M=C();yield{type:"WILDCARD",index:f,value:M}}else yield{type:"CHAR",index:f,value:c[f++]}}return{type:"END",index:f,value:""}}class p{constructor(c){this.tokens=c}peek(){if(!this._peek){const c=this.tokens.next();this._peek=c.value}return this._peek}tryConsume(c){const f=this.peek();if(f.type===c)return this._peek=void 0,f.value}consume(c){const f=this.tryConsume(c);if(f!==void 0)return f;const{type:C,index:S}=this.peek();throw new TypeError(`Unexpected ${C} at ${S}, expected ${c}: ${a}`)}text(){let c="",f;for(;f=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)c+=f;return c}}class i{constructor(c){this.tokens=c}}Y.TokenData=i;function h(m,c={}){const{encodePath:f=s}=c,C=new p(l(m));function S(M){const D=[];for(;;){const H=C.text();H&&D.push({type:"text",value:f(H)});const j=C.tryConsume("PARAM");if(j){D.push({type:"param",name:j});continue}const re=C.tryConsume("WILDCARD");if(re){D.push({type:"wildcard",name:re});continue}if(C.tryConsume("{")){D.push({type:"group",tokens:S("}")});continue}return C.consume(M),D}}const g=S("END");return new i(g)}function x(m,c={}){const{encode:f=encodeURIComponent,delimiter:C=d}=c,S=m instanceof i?m:h(m,c),g=y(S.tokens,C,f);return function(D={}){const[H,...j]=g(D);if(j.length)throw new TypeError(`Missing parameters: ${j.join(", ")}`);return H}}function y(m,c,f){const C=m.map(S=>b(S,c,f));return S=>{const g=[""];for(const M of C){const[D,...H]=M(S);g[0]+=D,g.push(...H)}return g}}function b(m,c,f){if(m.type==="text")return()=>[m.value];if(m.type==="group"){const S=y(m.tokens,c,f);return g=>{const[M,...D]=S(g);return D.length?[""]:[M]}}const C=f||s;return m.type==="wildcard"&&f!==!1?S=>{const g=S[m.name];if(g==null)return["",m.name];if(!Array.isArray(g)||g.length===0)throw new TypeError(`Expected "${m.name}" to be a non-empty array`);return[g.map((M,D)=>{if(typeof M!="string")throw new TypeError(`Expected "${m.name}/${D}" to be a string`);return C(M)}).join(c)]}:S=>{const g=S[m.name];if(g==null)return["",m.name];if(typeof g!="string")throw new TypeError(`Expected "${m.name}" to be a string`);return[C(g)]}}function w(m,c={}){const{decode:f=decodeURIComponent,delimiter:C=d}=c,{regexp:S,keys:g}=R(m,c),M=g.map(D=>f===!1?s:D.type==="param"?f:H=>H.split(C).map(f));return function(H){const j=S.exec(H);if(!j)return!1;const re=j[0],te=Object.create(null);for(let ne=1;ne<j.length;ne++){if(j[ne]===void 0)continue;const oe=g[ne-1],Me=M[ne-1];te[oe.name]=Me(j[ne])}return{path:re,params:te}}}function R(m,c={}){const{delimiter:f=d,end:C=!0,sensitive:S=!1,trailing:g=!0}=c,M=[],D=[],H=S?"":"i",re=(Array.isArray(m)?m:[m]).map(oe=>oe instanceof i?oe:h(oe,c));for(const{tokens:oe}of re)for(const Me of A(oe,0,[])){const _t=V(Me,f,M);D.push(_t)}let te=`^(?:${D.join("|")})`;return g&&(te+=`(?:${o(f)}$)?`),te+=C?"$":`(?=${o(f)}|$)`,{regexp:new RegExp(te,H),keys:M}}function*A(m,c,f){if(c===m.length)return yield f;const C=m[c];if(C.type==="group"){const S=f.slice();for(const g of A(C.tokens,0,S))yield*A(m,c+1,g)}else f.push(C);yield*A(m,c+1,f)}function V(m,c,f){let C="",S="",g=!0;for(let M=0;M<m.length;M++){const D=m[M];if(D.type==="text"){C+=o(D.value),S+=D.value,g||(g=D.value.includes(c));continue}if(D.type==="param"||D.type==="wildcard"){if(!g&&!S)throw new TypeError(`Missing text after "${D.name}": ${a}`);D.type==="param"?C+=`(${O(c,g?"":S)}+)`:C+="([\\s\\S]+)",f.push(D),S="",g=!1;continue}}return C}function O(m,c){return c.length<2?m.length<2?`[^${o(m+c)}]`:`(?:(?!${o(m)})[^${o(c)}])`:m.length<2?`(?:(?!${o(c)})[^${o(m)}])`:`(?:(?!${o(c)}|${o(m)})[\\s\\S])`}function q(m){return m.tokens.map(function c(f,C,S){if(f.type==="text")return t(f.value);if(f.type==="group")return`{${f.tokens.map(c).join("")}}`;const M=I(f.name)&&E(S[C+1])?f.name:JSON.stringify(f.name);if(f.type==="param")return`:${M}`;if(f.type==="wildcard")return`*${M}`;throw new TypeError(`Unexpected token: ${f}`)}).join("")}function I(m){const[c,...f]=m;return u.test(c)?f.every(C=>r.test(C)):!1}function E(m){return(m==null?void 0:m.type)!=="text"?!0:!r.test(m.value[0])}return Y}var Sn=xn();const Cn={key:0,class:"no-redirect"},$n=["onClick"],En=z({__name:"index",setup(d){const s=ke(),u=xe(),{listenerRouteChange:r}=Te(),a=N([]);function e(){a.value=s.matched.filter(l=>{var p,i;return((p=l.meta)==null?void 0:p.title)&&((i=l.meta)==null?void 0:i.breadcrumb)!==!1})}function t(l){return Sn.compile(l)(s.params)}function o(l){const{redirect:p,path:i}=l;if(p)return u.push(p);u.push(t(i))}return r(l=>{l.path.startsWith("/redirect/")||e()},!0),(l,p)=>{const i=At,h=Vt;return v(),$(h,null,{default:k(()=>[(v(!0),L(G,null,ee(n(a),(x,y)=>(v(),$(i,{key:x.path},{default:k(()=>[x.redirect==="noRedirect"||y===n(a).length-1?(v(),L("span",Cn,W(x.meta.title),1)):(v(),L("a",{key:1,onClick:ve(b=>o(x),["prevent"])},W(x.meta.title),9,$n))]),_:2},1024))),128))]),_:1})}}}),Tn=B(En,[["__scopeId","data-v-148b927d"]]),Mn={class:"layout-footer"},Ln=z({__name:"index",setup(d){const s="V3 Admin Vite";return(u,r)=>(v(),L("footer",Mn," MIT © 2021-PRESENT "+W(n(s)),1))}}),Rn=B(Ln,[["__scopeId","data-v-b41fd828"]]),Vn=z({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(d,{emit:s}){const u=d,r=s;function a(){r("toggleClick")}return(e,t)=>{const o=fe;return v(),L("div",{onClick:a},[_(o,{size:20,class:"icon"},{default:k(()=>[u.isActive?(v(),$(n(It),{key:0})):(v(),$(n(Dt),{key:1}))]),_:1})])}}}),An=B(Vn,[["__scopeId","data-v-1b10002f"]]),In="/zzl.github.io/assets/logo-text-1-B14nbmAK.png",Dn="/zzl.github.io/assets/logo-text-2-y4GmJqxb.png",Pn="/zzl.github.io/assets/logo-C6EcH0uP.png",Fn=["src"],zn=["src"],Nn=z({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(d){const s=d,{isLeft:u,isTop:r}=ae();return(a,e)=>{const t=J("router-link");return v(),L("div",{class:X(["layout-logo-container",{collapse:s.collapse,"layout-mode-top":n(r)}])},[_(tt,{name:"layout-logo-fade"},{default:k(()=>[s.collapse?(v(),$(t,{key:"collapse",to:"/"},{default:k(()=>[T("img",{src:n(Pn),class:"layout-logo"},null,8,Fn)]),_:1})):(v(),$(t,{key:"expand",to:"/"},{default:k(()=>[T("img",{src:n(u)?n(In):n(Dn),class:"layout-logo-text"},null,8,zn)]),_:1}))]),_:1})],2)}}}),Ie=B(Nn,[["__scopeId","data-v-4c7a3e57"]]),Bn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"两年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"三年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Wn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],Un=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],On={class:"card-header"},qn={class:"card-title"},Hn={class:"card-time"},jn={key:0,class:"card-avatar"},Xn=["src"],Kn={class:"card-body"},Gn=z({__name:"List",props:{data:{}},setup(d){const s=d;return(u,r)=>{const a=rt,e=Pt,t=Ft;return s.data.length===0?(v(),$(a,{key:0})):(v(!0),L(G,{key:1},ee(s.data,(o,l)=>(v(),$(t,{key:l,shadow:"never",class:"card-container"},{header:k(()=>[T("div",On,[T("div",null,[T("span",null,[T("span",qn,W(o.title),1),o.extra?(v(),$(e,{key:0,type:o.status,effect:"plain",size:"small"},{default:k(()=>[K(W(o.extra),1)]),_:2},1032,["type"])):F("",!0)]),T("div",Hn,W(o.datetime),1)]),o.avatar?(v(),L("div",jn,[T("img",{src:o.avatar,width:"34"},null,8,Xn)])):F("",!0)])]),default:k(()=>[T("div",Kn,W(o.description??"No Data"),1)]),_:2},1024))),128))}}}),Jn=B(Gn,[["__scopeId","data-v-ef66ab12"]]),Yn={class:"notify"},Zn={class:"notify-history"},He=99,Qn=350,eo=z({__name:"index",setup(d){const s=P(()=>r.value.reduce((e,t)=>e+t.list.length,0)),u=N("通知"),r=N([{name:"通知",type:"primary",list:Bn},{name:"消息",type:"danger",list:Wn},{name:"待办",type:"warning",list:Un}]);function a(){we.success(`跳转到${u.value}历史页面`)}return(e,t)=>{const o=fe,l=pe,p=Bt,i=$e,h=Ut,x=Nt,y=lt,b=zt;return v(),L("div",Yn,[_(b,{placement:"bottom",width:Qn,trigger:"click"},{reference:k(()=>[_(p,{value:n(s),max:He,hidden:n(s)===0},{default:k(()=>[_(l,{effect:"dark",content:"消息通知",placement:"bottom"},{default:k(()=>[_(o,{size:20},{default:k(()=>[_(n(Wt))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:k(()=>[_(x,{modelValue:n(u),"onUpdate:modelValue":t[0]||(t[0]=w=>de(u)?u.value=w:null),class:"demo-tabs",stretch:""},{default:k(()=>[(v(!0),L(G,null,ee(n(r),(w,R)=>(v(),$(h,{key:R,name:w.name},{label:k(()=>[K(W(w.name)+" ",1),_(p,{value:w.list.length,max:He,type:w.type},null,8,["value","type"])]),default:k(()=>[_(i,{height:"400px"},{default:k(()=>[_(Jn,{data:w.list},null,8,["data"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),T("div",Zn,[_(y,{link:"",onClick:a},{default:k(()=>[K(" 查看"+W(n(u))+"历史 ",1)]),_:1})])]),_:1})])}}}),to=B(eo,[["__scopeId","data-v-ab2bcb22"]]),je=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Q=(()=>{if(typeof document>"u")return!1;const d=je[0],s={};for(const u of je)if((u==null?void 0:u[1])in document){for(const[a,e]of u.entries())s[d[a]]=e;return s}return!1})(),Xe={change:Q.fullscreenchange,error:Q.fullscreenerror};let U={request(d=document.documentElement,s){return new Promise((u,r)=>{const a=()=>{U.off("change",a),u()};U.on("change",a);const e=d[Q.requestFullscreen](s);e instanceof Promise&&e.then(a).catch(r)})},exit(){return new Promise((d,s)=>{if(!U.isFullscreen){d();return}const u=()=>{U.off("change",u),d()};U.on("change",u);const r=document[Q.exitFullscreen]();r instanceof Promise&&r.then(u).catch(s)})},toggle(d,s){return U.isFullscreen?U.exit():U.request(d,s)},onchange(d){U.on("change",d)},onerror(d){U.on("error",d)},on(d,s){const u=Xe[d];u&&document.addEventListener(u,s,!1)},off(d,s){const u=Xe[d];u&&document.removeEventListener(u,s,!1)},raw:Q};Object.defineProperties(U,{isFullscreen:{get:()=>!!document[Q.fullscreenElement]},element:{enumerable:!0,get:()=>document[Q.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Q.fullscreenEnabled]}});Q||(U={isEnabled:!1});const Ke="content-large",Ge="content-full",no=z({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(d){const s=d,u=document.body.classList,r=U.isEnabled,a=N(!1),e=P(()=>a.value?s.exitTips:s.openTips),t=P(()=>a.value?"fullscreen-exit":"fullscreen");function o(){const b=document.querySelector(s.element)||void 0;r?U.toggle(b):we.warning("您的浏览器无法工作")}function l(){a.value=U.isFullscreen,a.value||u.remove(Ke,Ge)}ye(b=>{r&&(U.on("change",l),b(()=>{U.off("change",l)}))});const p=N(!1),i=P(()=>p.value?"内容区复原":"内容区放大"),h=P(()=>p.value?"fullscreen-exit":"fullscreen");function x(){p.value=!p.value,u.toggle(Ke,p.value)}function y(){p.value&&x(),u.add(Ge),o()}return(b,w)=>{const R=J("SvgIcon"),A=pe,V=ut,O=ct,q=it;return v(),L("div",null,[s.content?(v(),$(q,{key:1,disabled:n(a)},{dropdown:k(()=>[_(O,null,{default:k(()=>[_(V,{onClick:x},{default:k(()=>[K(W(n(i)),1)]),_:1}),_(V,{onClick:y},{default:k(()=>w[0]||(w[0]=[K(" 内容区全屏 ")])),_:1})]),_:1})]),default:k(()=>[_(R,{name:n(h),class:"svg-icon"},null,8,["name"])]),_:1},8,["disabled"])):(v(),$(A,{key:0,effect:"dark",content:n(e),placement:"bottom"},{default:k(()=>[_(R,{name:n(t),onClick:o,class:"svg-icon"},null,8,["name"])]),_:1},8,["content"]))])}}}),ft=B(no,[["__scopeId","data-v-d803794b"]]);function oo(d,s){var r;const u=(r=s.meta)==null?void 0:r.roles;return u?d.some(a=>u.includes(a)):!0}function pt(d,s){const u=[];return d.forEach(r=>{const a={...r};oo(s,a)&&(a.children&&(a.children=pt(a.children,s)),u.push(a))}),u}const De=Qe("permission",()=>{const d=N([]),s=N([]),u=e=>{const t=pt(Be,e);a(t)},r=()=>{a(Be)},a=e=>{d.value=gt.concat(e),s.value=e};return{routes:d,addRoutes:s,setRoutes:u,setAllRoutes:r}}),so={class:"search-footer"},ao={class:"search-footer-item"},ro={class:"search-footer-item"},lo={class:"search-footer-item"},io={class:"search-footer-total"},co=z({__name:"Footer",props:{total:{}},setup(d){const s=d,{isMobile:u}=ue();return(r,a)=>{const e=J("SvgIcon");return v(),L("div",so,[n(u)?F("",!0):(v(),L(G,{key:0},[T("span",ao,[_(e,{name:"keyboard-enter",class:"svg-icon"}),a[0]||(a[0]=T("span",null,"确认",-1))]),T("span",ro,[_(e,{name:"keyboard-up",class:"svg-icon"}),_(e,{name:"keyboard-down",class:"svg-icon"}),a[1]||(a[1]=T("span",null,"切换",-1))]),T("span",lo,[_(e,{name:"keyboard-esc",class:"svg-icon"}),a[2]||(a[2]=T("span",null,"关闭",-1))])],64)),T("span",io,"共 "+W(s.total)+" 项",1)])}}}),uo=B(co,[["__scopeId","data-v-03526223"]]),fo=["onMouseenter"],po={class:"result-item-title"},mo=z({__name:"Result",props:xt({data:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d,{expose:s}){const u=d,r=nt(d,"modelValue"),a=St(),e=N(0);function t(i){const h=i.name===r.value;return{background:h?"var(--el-color-primary)":"",color:h?"#ffffff":""}}function o(i){u.isPressUpOrDown||(r.value=i.name)}function l(){e.value=Number((window.innerHeight*.4).toFixed(1))}function p(i){var b;const h=(b=a==null?void 0:a.proxy)==null?void 0:b.$refs[`resultItemRef${i}`];if(!h)return 0;const y=h[0].offsetTop+128;return y>e.value?y-e.value:0}return ot(()=>{window.addEventListener("resize",l)}),st(()=>{l()}),Ve(()=>{window.removeEventListener("resize",l)}),s({getScrollTop:p}),(i,h)=>{const x=J("SvgIcon");return v(),L("div",null,[(v(!0),L(G,null,ee(u.data,(y,b)=>{var w,R,A;return v(),L("div",{key:b,ref_for:!0,ref:`resultItemRef${b}`,class:"result-item",style:at(t(y)),onMouseenter:V=>o(y)},[(w=y.meta)!=null&&w.svgIcon?(v(),$(x,{key:0,name:y.meta.svgIcon,class:"svg-icon"},null,8,["name"])):(R=y.meta)!=null&&R.elIcon?(v(),$(ge(y.meta.elIcon),{key:1,class:"el-icon"})):F("",!0),T("span",po,W((A=y.meta)==null?void 0:A.title),1),r.value&&r.value===y.name?(v(),$(x,{key:2,name:"keyboard-enter",class:"svg-icon"})):F("",!0)],44,fo)}),128))])}}}),_o=B(mo,[["__scopeId","data-v-b54aa557"]]),vo=z({__name:"Modal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(d){const s=nt(d,"modelValue"),u=xe(),{isMobile:r}=ue(),a=N(null),e=N(null),t=N(null),o=N(""),l=Ct([]),p=N(void 0),i=N(!1),h=P(()=>r.value?"80vw":"40vw"),x=P(()=>Ot(De().routes)),y=qt(()=>{var c;const I=b(x.value),E=o.value.toLocaleLowerCase().trim();l.value=I.filter(f=>{var C,S;return o.value?(S=(C=f.meta)==null?void 0:C.title)==null?void 0:S.toLocaleLowerCase().includes(E):!1});const m=(c=l.value)==null?void 0:c.length;p.value=m>0?l.value[0].name:void 0},500);function b(I,E=[]){return I.forEach(m=>{E.push(m),m.children&&b(m.children,E)}),E}function w(){s.value=!1,setTimeout(()=>{o.value="",l.value=[]},200)}function R(I){var m;if(!t.value)return;const E=t.value.getScrollTop(I);(m=e.value)==null||m.setScrollTop(E)}function A(){i.value=!0;const{length:I}=l.value;if(I===0)return;const E=l.value.findIndex(m=>m.name===p.value);if(E===0){const m=l.value[I-1].name;p.value===m&&I>1?(p.value=l.value[I-2].name,R(I-2)):(p.value=m,R(I-1))}else p.value=l.value[E-1].name,R(E-1)}function V(){i.value=!0;const{length:I}=l.value;if(I===0)return;const E=l.value.map(m=>m.name).lastIndexOf(p.value);if(E===I-1){const m=l.value[0].name;p.value===m&&I>1?(p.value=l.value[1].name,R(1)):(p.value=m,R(0))}else p.value=l.value[E+1].name,R(E+1)}function O(){var c;const{length:I}=l.value;if(I===0)return;const E=p.value,m=(c=l.value.find(f=>f.name===E))==null?void 0:c.path;if(m&&he(m))return window.open(m,"_blank","noopener, noreferrer");if(!E)return we.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");try{u.push({name:E})}catch{return we.warning("该菜单有必填的动态参数，无法通过搜索进入")}w()}function q(){i.value=!1}return(I,E)=>{const m=J("SvgIcon"),c=jt,f=rt,C=$e,S=Ht;return v(),$(S,{modelValue:s.value,"onUpdate:modelValue":E[2]||(E[2]=g=>s.value=g),"before-close":w,width:n(h),top:"5vh",class:"search-modal__private","append-to-body":"",onOpened:E[3]||(E[3]=g=>{var M;return(M=n(a))==null?void 0:M.focus()}),onClosed:E[4]||(E[4]=g=>{var M;return(M=n(a))==null?void 0:M.blur()}),onKeydown:[me(A,["up"]),me(V,["down"]),me(O,["enter"])],onKeyup:me(q,["up","down"])},{footer:k(()=>[_(uo,{total:n(l).length},null,8,["total"])]),default:k(()=>[_(c,{ref_key:"inputRef",ref:a,modelValue:n(o),"onUpdate:modelValue":E[0]||(E[0]=g=>de(o)?o.value=g:null),placeholder:"搜索菜单",size:"large",clearable:"",onInput:n(y)},{prefix:k(()=>[_(m,{name:"search",class:"svg-icon"})]),_:1},8,["modelValue","onInput"]),n(l).length===0?(v(),$(f,{key:0,description:"暂无搜索结果","image-size":100})):(v(),L(G,{key:1},[E[5]||(E[5]=T("p",null,"搜索结果",-1)),_(C,{ref_key:"scrollbarRef",ref:e,"max-height":"40vh",always:""},{default:k(()=>[_(_o,{ref_key:"resultRef",ref:t,modelValue:n(p),"onUpdate:modelValue":E[1]||(E[1]=g=>de(p)?p.value=g:null),data:n(l),"is-press-up-or-down":n(i),onClick:O},null,8,["modelValue","data","is-press-up-or-down"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),ho=z({__name:"index",setup(d){const s=N(!1);function u(){s.value=!0}return(r,a)=>{const e=J("SvgIcon"),t=pe;return v(),L("div",null,[_(t,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:k(()=>[_(e,{name:"search",onClick:u,class:"svg-icon"})]),_:1}),_(vo,{modelValue:n(s),"onUpdate:modelValue":a[0]||(a[0]=o=>de(s)?s.value=o:null)},null,8,["modelValue"])])}}}),go=B(ho,[["__scopeId","data-v-3f918a22"]]),yo={class:"navigation-bar"},bo={class:"right-menu"},wo={class:"right-menu-item user"},ko={target:"_blank",href:"https://github.com/un-pany/v3-admin-vite"},xo={target:"_blank",href:"https://gitee.com/un-pany/v3-admin-vite"},So=z({__name:"index",setup(d){const{isMobile:s}=ue(),{isTop:u}=ae(),r=xe(),a=ce(),e=yt(),t=Z(),{showNotify:o,showThemeSwitch:l,showScreenfull:p,showSearchMenu:i}=ie(t);function h(){a.toggleSidebar(!1)}function x(){e.logout(),r.push("/login")}return(y,b)=>{const w=Xt,R=ut,A=ct,V=it;return v(),L("div",yo,[!n(u)||n(s)?(v(),$(n(An),{key:0,"is-active":n(a).sidebar.opened,class:"hamburger",onToggleClick:h},null,8,["is-active"])):F("",!0),!n(u)||n(s)?(v(),$(n(Tn),{key:1,class:"breadcrumb"})):F("",!0),n(u)&&!n(s)?(v(),$(n(Fe),{key:2,class:"sidebar"})):F("",!0),T("div",bo,[n(i)?(v(),$(go,{key:0,class:"right-menu-item"})):F("",!0),n(p)?(v(),$(ft,{key:1,class:"right-menu-item"})):F("",!0),n(l)?(v(),$(Lt,{key:2,class:"right-menu-item"})):F("",!0),n(o)?(v(),$(to,{key:3,class:"right-menu-item"})):F("",!0),_(V,null,{dropdown:k(()=>[_(A,null,{default:k(()=>[T("a",ko,[_(R,null,{default:k(()=>b[0]||(b[0]=[K("GitHub")])),_:1})]),T("a",xo,[_(R,null,{default:k(()=>b[1]||(b[1]=[K("Gitee")])),_:1})]),_(R,{divided:"",onClick:x},{default:k(()=>b[2]||(b[2]=[K(" 退出登录 ")])),_:1})]),_:1})]),default:k(()=>[T("div",wo,[_(w,{icon:n(Kt),size:30},null,8,["icon"]),T("span",null,W(n(e).username),1)])]),_:1})])])}}}),Pe=B(So,[["__scopeId","data-v-672409f2"]]),Co=z({__name:"index",setup(d){const s=N(!1);return(u,r)=>{const a=fe,e=Gt;return v(),L(G,null,[T("div",{class:"handle-button",onClick:r[0]||(r[0]=t=>s.value=!0)},[_(a,{size:24},{default:k(()=>[_(n(Jt))]),_:1})]),_(e,{modelValue:n(s),"onUpdate:modelValue":r[1]||(r[1]=t=>de(s)?s.value=t:null),size:"300px","with-header":!1},{default:k(()=>[be(u.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),$o=B(Co,[["__scopeId","data-v-75b901b7"]]),Eo={class:"select-layout-mode"},To=z({__name:"SelectLayoutMode",setup(d){const{isLeft:s,isTop:u,isLeftTop:r,setLayoutMode:a}=ae();return(e,t)=>{const o=Zt,l=Qt,p=en,i=Yt,h=pe;return v(),L("div",Eo,[_(h,{content:"左侧模式"},{default:k(()=>[_(i,{class:X(["layout-mode left",{active:n(s)}]),onClick:t[0]||(t[0]=x=>n(a)(n(le).Left))},{default:k(()=>[_(o),_(i,null,{default:k(()=>[_(l),_(p)]),_:1})]),_:1},8,["class"])]),_:1}),_(h,{content:"顶部模式"},{default:k(()=>[_(i,{class:X(["layout-mode top",{active:n(u)}]),onClick:t[1]||(t[1]=x=>n(a)(n(le).Top))},{default:k(()=>[_(l),_(p)]),_:1},8,["class"])]),_:1}),_(h,{content:"混合模式"},{default:k(()=>[_(i,{class:X(["layout-mode left-top",{active:n(r)}]),onClick:t[2]||(t[2]=x=>n(a)(n(le).LeftTop))},{default:k(()=>[_(l),_(i,null,{default:k(()=>[_(o),_(p)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),Mo=B(To,[["__scopeId","data-v-97e756dd"]]),Lo={class:"setting-container"},Ro={class:"setting-name"},Vo=z({__name:"index",setup(d){const{isLeft:s}=ae(),u=Z(),{showTagsView:r,showLogo:a,fixedHeader:e,showFooter:t,showNotify:o,showThemeSwitch:l,showScreenfull:p,showSearchMenu:i,cacheTagsView:h,showWatermark:x,showGreyMode:y,showColorWeakness:b}=ie(u),w={显示标签栏:r,"显示 Logo":a,"固定 Header":e,显示页脚:t,显示消息通知:o,显示切换主题按钮:l,显示全屏按钮:p,显示搜索按钮:i,是否缓存标签栏:h,开启系统水印:x,显示灰色模式:y,显示色弱模式:b};ye(()=>{!s.value&&(e.value=!0)});function R(){bt(),location.reload()}return(A,V)=>{const O=tn,q=on,I=lt;return v(),L("div",Lo,[V[1]||(V[1]=T("h4",null,"布局配置",-1)),_(Mo),_(O),V[2]||(V[2]=T("h4",null,"功能配置",-1)),(v(),L(G,null,ee(w,(E,m,c)=>T("div",{key:c,class:"setting-item"},[T("span",Ro,W(m),1),_(q,{modelValue:E.value,"onUpdate:modelValue":f=>E.value=f,disabled:!n(s)&&m==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),_(I,{type:"danger",icon:n(nn),onClick:R},{default:k(()=>V[0]||(V[0]=[K(" 重 置 ")])),_:1},8,["icon"])])}}}),Ao=B(Vo,[["__scopeId","data-v-19e104fe"]]);var Le,Je;function Io(){if(Je)return Le;Je=1;function d(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function s(a,e){for(var t="",o=0,l=-1,p=0,i,h=0;h<=a.length;++h){if(h<a.length)i=a.charCodeAt(h);else{if(i===47)break;i=47}if(i===47){if(!(l===h-1||p===1))if(l!==h-1&&p===2){if(t.length<2||o!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var x=t.lastIndexOf("/");if(x!==t.length-1){x===-1?(t="",o=0):(t=t.slice(0,x),o=t.length-1-t.lastIndexOf("/")),l=h,p=0;continue}}else if(t.length===2||t.length===1){t="",o=0,l=h,p=0;continue}}e&&(t.length>0?t+="/..":t="..",o=2)}else t.length>0?t+="/"+a.slice(l+1,h):t=a.slice(l+1,h),o=h-l-1;l=h,p=0}else i===46&&p!==-1?++p:p=-1}return t}function u(a,e){var t=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+o:t+a+o:o}var r={resolve:function(){for(var e="",t=!1,o,l=arguments.length-1;l>=-1&&!t;l--){var p;l>=0?p=arguments[l]:(o===void 0&&(o=process.cwd()),p=o),d(p),p.length!==0&&(e=p+"/"+e,t=p.charCodeAt(0)===47)}return e=s(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(d(e),e.length===0)return".";var t=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=s(e,!t),e.length===0&&!t&&(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return d(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];d(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":r.normalize(e)},relative:function(e,t){if(d(e),d(t),e===t||(e=r.resolve(e),t=r.resolve(t),e===t))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var l=e.length,p=l-o,i=1;i<t.length&&t.charCodeAt(i)===47;++i);for(var h=t.length,x=h-i,y=p<x?p:x,b=-1,w=0;w<=y;++w){if(w===y){if(x>y){if(t.charCodeAt(i+w)===47)return t.slice(i+w+1);if(w===0)return t.slice(i+w)}else p>y&&(e.charCodeAt(o+w)===47?b=w:w===0&&(b=0));break}var R=e.charCodeAt(o+w),A=t.charCodeAt(i+w);if(R!==A)break;R===47&&(b=w)}var V="";for(w=o+b+1;w<=l;++w)(w===l||e.charCodeAt(w)===47)&&(V.length===0?V+="..":V+="/..");return V.length>0?V+t.slice(i+b):(i+=b,t.charCodeAt(i)===47&&++i,t.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(d(e),e.length===0)return".";for(var t=e.charCodeAt(0),o=t===47,l=-1,p=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),t===47){if(!p){l=i;break}}else p=!1;return l===-1?o?"/":".":o&&l===1?"//":e.slice(0,l)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');d(e);var o=0,l=-1,p=!0,i;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var h=t.length-1,x=-1;for(i=e.length-1;i>=0;--i){var y=e.charCodeAt(i);if(y===47){if(!p){o=i+1;break}}else x===-1&&(p=!1,x=i+1),h>=0&&(y===t.charCodeAt(h)?--h===-1&&(l=i):(h=-1,l=x))}return o===l?l=x:l===-1&&(l=e.length),e.slice(o,l)}else{for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===47){if(!p){o=i+1;break}}else l===-1&&(p=!1,l=i+1);return l===-1?"":e.slice(o,l)}},extname:function(e){d(e);for(var t=-1,o=0,l=-1,p=!0,i=0,h=e.length-1;h>=0;--h){var x=e.charCodeAt(h);if(x===47){if(!p){o=h+1;break}continue}l===-1&&(p=!1,l=h+1),x===46?t===-1?t=h:i!==1&&(i=1):t!==-1&&(i=-1)}return t===-1||l===-1||i===0||i===1&&t===l-1&&t===o+1?"":e.slice(t,l)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return u("/",e)},parse:function(e){d(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var o=e.charCodeAt(0),l=o===47,p;l?(t.root="/",p=1):p=0;for(var i=-1,h=0,x=-1,y=!0,b=e.length-1,w=0;b>=p;--b){if(o=e.charCodeAt(b),o===47){if(!y){h=b+1;break}continue}x===-1&&(y=!1,x=b+1),o===46?i===-1?i=b:w!==1&&(w=1):i!==-1&&(w=-1)}return i===-1||x===-1||w===0||w===1&&i===x-1&&i===h+1?x!==-1&&(h===0&&l?t.base=t.name=e.slice(1,x):t.base=t.name=e.slice(h,x)):(h===0&&l?(t.name=e.slice(1,i),t.base=e.slice(1,x)):(t.name=e.slice(h,i),t.base=e.slice(h,x)),t.ext=e.slice(i,x)),h>0?t.dir=e.slice(0,h-1):l&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,Le=r,Le}var Do=Io();const mt=sn(Do),Po=["href"],Fo=z({__name:"Link",props:{to:{}},setup(d){const s=d;return(u,r)=>{const a=J("router-link");return n(he)(s.to)?(v(),L("a",{key:0,href:s.to,target:"_blank",rel:"noopener"},[be(u.$slots,"default")],8,Po)):(v(),$(a,{key:1,to:s.to},{default:k(()=>[be(u.$slots,"default")]),_:3},8,["to"]))}}}),zo={class:"title"},No={key:2,class:"title"},Bo=z({__name:"Item",props:{item:{},basePath:{default:""}},setup(d){const s=d,u=P(()=>{var o;return(o=s.item.meta)==null?void 0:o.alwaysShow}),r=P(()=>{var o;return((o=s.item.children)==null?void 0:o.filter(l=>{var p;return!((p=l.meta)!=null&&p.hidden)}))??[]}),a=P(()=>r.value.length),e=P(()=>{const o=a.value;switch(!0){case o>1:return null;case o===1:return r.value[0];default:return{...s.item,path:""}}});function t(o){switch(!0){case he(o):return o;case he(s.basePath):return s.basePath;default:return mt.resolve(s.basePath,o)}}return(o,l)=>{const p=J("SvgIcon"),i=an,h=J("Item",!0),x=rn;return!n(u)&&n(e)&&!n(e).children?(v(),L(G,{key:0},[n(e).meta?(v(),$(Fo,{key:0,to:t(n(e).path)},{default:k(()=>[_(i,{index:t(n(e).path)},$t({default:k(()=>[n(e).meta.svgIcon?(v(),$(p,{key:0,name:n(e).meta.svgIcon,class:"svg-icon"},null,8,["name"])):n(e).meta.elIcon?(v(),$(ge(n(e).meta.elIcon),{key:1,class:"el-icon"})):F("",!0)]),_:2},[n(e).meta.title?{name:"title",fn:k(()=>[T("span",zo,W(n(e).meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):F("",!0)],64)):(v(),$(x,{key:1,index:t(s.item.path),teleported:""},{title:k(()=>{var y,b,w;return[(y=s.item.meta)!=null&&y.svgIcon?(v(),$(p,{key:0,name:s.item.meta.svgIcon,class:"svg-icon"},null,8,["name"])):(b=s.item.meta)!=null&&b.elIcon?(v(),$(ge(s.item.meta.elIcon),{key:1,class:"el-icon"})):F("",!0),(w=s.item.meta)!=null&&w.title?(v(),L("span",No,W(s.item.meta.title),1)):F("",!0)]}),default:k(()=>[s.item.children?(v(!0),L(G,{key:0},ee(n(r),y=>(v(),$(h,{key:y.path,item:y,"base-path":t(y.path)},null,8,["item","base-path"]))),128)):F("",!0)]),_:1},8,["index"]))}}}),Wo=B(Bo,[["__scopeId","data-v-c9384764"]]),Uo=z({__name:"index",setup(d){Et(I=>({"0170a15c":n(q),"1cdc1920":n(V),"458c2118":n(O),"35844e2b":n(A)}));const s=_e("--v3-sidebar-menu-bg-color"),u=_e("--v3-sidebar-menu-text-color"),r=_e("--v3-sidebar-menu-active-text-color"),{isMobile:a}=ue(),{isLeft:e,isTop:t}=ae(),o=ke(),l=ce(),p=De(),i=Z(),h=P(()=>o.meta.activeMenu||o.path),x=P(()=>p.routes.filter(I=>{var E;return!((E=I.meta)!=null&&E.hidden)})),y=P(()=>!l.sidebar.opened),b=P(()=>e.value&&i.showLogo),w=P(()=>e.value?s:void 0),R=P(()=>e.value?u:void 0),A=P(()=>e.value?r:void 0),V=P(()=>t.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),O=P(()=>t.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),q=P(()=>t.value?"0px":"2px");return(I,E)=>{const m=ln,c=$e;return v(),L("div",{class:X({"has-logo":n(b)})},[n(b)?(v(),$(n(Ie),{key:0,collapse:n(y)},null,8,["collapse"])):F("",!0),E[0]||(E[0]=K(" 111 ")),_(c,{"wrap-class":"scrollbar-wrapper"},{default:k(()=>[_(m,{"default-active":n(h),collapse:n(y)&&!n(t),"background-color":n(w),"text-color":n(R),"active-text-color":n(A),"collapse-transition":!1,mode:n(t)&&!n(a)?"horizontal":"vertical"},{default:k(()=>[(v(!0),L(G,null,ee(n(x),f=>(v(),$(Wo,{key:f.path,item:f,"base-path":f.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Fe=B(Uo,[["__scopeId","data-v-05f5e23a"]]),Oo={class:"scroll-container"},qo=200,Ho=z({__name:"ScrollPane",props:{tagRefs:{}},setup(d){const s=d,u=ke(),r=Z(),{listenerRouteChange:a}=Te(),e=N(),t=N();let o=0;function l({scrollLeft:y}){o=y}function p({deltaY:y}){y.toString().startsWith("-")?h("left"):h("right")}function i(){const y=t.value.clientWidth,b=e.value.wrapRef.clientWidth,w=y-b-o;return{scrollbarContentRefWidth:y,scrollbarRefWidth:b,lastDistance:w}}function h(y,b=qo){let w=0;const{scrollbarContentRefWidth:R,scrollbarRefWidth:A,lastDistance:V}=i();A>R||(y==="left"?w=Math.max(0,o-b):w=Math.min(o+b,o+V),e.value.setScrollLeft(w))}function x(){const y=s.tagRefs;for(let b=0;b<y.length;b++)if(u.path===y[b].$props.to.path){const w=y[b].$el,R=w.offsetWidth,A=w.offsetLeft,{scrollbarRefWidth:V}=i();if(A<o){const q=o-A;h("left",q);return}const O=V+o-R;if(A>O){const q=A-O;h("right",q);return}}}return a(()=>{Tt(x)}),(y,b)=>{const w=fe,R=pe,A=$e;return v(),L("div",Oo,[_(R,{content:"向左滚动标签（超出最大宽度可点击）"},{default:k(()=>[_(w,{class:"arrow left",onClick:b[0]||(b[0]=V=>h("left"))},{default:k(()=>[_(n(cn))]),_:1})]),_:1}),_(A,{ref_key:"scrollbarRef",ref:e,onWheelPassive:p,onScroll:l},{default:k(()=>[T("div",{ref_key:"scrollbarContentRef",ref:t,class:"scrollbar-content"},[be(y.$slots,"default",{},void 0,!0)],512)]),_:3},512),_(R,{content:"向右滚动标签（超出最大宽度可点击）"},{default:k(()=>[_(w,{class:"arrow right",onClick:b[1]||(b[1]=V=>h("right"))},{default:k(()=>[_(n(un))]),_:1})]),_:1}),n(r).showScreenfull?(v(),$(ft,{key:0,content:!0,class:"screenfull"})):F("",!0)])}}}),jo=B(Ho,[["__scopeId","data-v-33b7505c"]]),Xo={class:"tags-view-container"},Ko=z({__name:"index",setup(d){const s=xe(),u=ke(),r=Ze(),a=De(),{listenerRouteChange:e}=Te(),t=N([]),o=N(!1),l=N(0),p=N(0),i=N({});let h=[];function x(c){return c.path===u.path}function y(c){var f;return(f=c.meta)==null?void 0:f.affix}function b(c,f="/"){const C=[];return c.forEach(S=>{if(y(S)){const g=mt.resolve(f,S.path);C.push({fullPath:g,path:g,name:S.name,meta:{...S.meta}})}if(S.children){const g=b(S.children,S.path);C.push(...g)}}),C}function w(){h=b(a.routes);for(const c of h)c.name&&r.addVisitedView(c)}function R(c){c.name&&(r.addVisitedView(c),r.addCachedView(c))}function A(c){r.delCachedView(c),s.replace({path:`/redirect${c.path}`,query:c.query})}function V(c){r.delVisitedView(c),r.delCachedView(c),x(c)&&I(r.visitedViews,c)}function O(){const c=i.value.fullPath;c!==u.path&&c!==void 0&&s.push(c),r.delOthersVisitedViews(i.value),r.delOthersCachedViews(i.value)}function q(c){r.delAllVisitedViews(),r.delAllCachedViews(),!h.some(f=>f.path===u.path)&&I(r.visitedViews,c)}function I(c,f){const C=c.slice(-1)[0],S=C==null?void 0:C.fullPath;S!==void 0?s.push(S):f.name==="Dashboard"?s.push({path:`/redirect${f.path}`,query:f.query}):s.push("/")}function E(c,f){const g=document.body.offsetWidth-100,M=f.clientX+10;p.value=M>g?g:M,l.value=f.clientY,o.value=!0,i.value=c}function m(){o.value=!1}return et(o,c=>{c?document.body.addEventListener("click",m):document.body.removeEventListener("click",m)}),w(),e(c=>{R(c)},!0),(c,f)=>{const C=fe,S=J("router-link");return v(),L("div",Xo,[_(jo,{class:"tags-view-wrapper","tag-refs":n(t)},{default:k(()=>[(v(!0),L(G,null,ee(n(r).visitedViews,g=>(v(),$(S,{key:g.path,ref_for:!0,ref_key:"tagRefs",ref:t,class:X([{active:x(g)},"tags-view-item"]),to:{path:g.path,query:g.query},onMouseup:ve(M=>!y(g)&&V(g),["middle"]),onContextmenu:ve(M=>E(g,M),["prevent"])},{default:k(()=>{var M;return[K(W((M=g.meta)==null?void 0:M.title)+" ",1),y(g)?F("",!0):(v(),$(C,{key:0,size:12,onClick:ve(D=>V(g),["prevent","stop"])},{default:k(()=>[_(n(dn))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),Se(T("ul",{class:"contextmenu",style:at({left:`${n(p)}px`,top:`${n(l)}px`})},[T("li",{onClick:f[0]||(f[0]=g=>A(n(i)))}," 刷新 "),y(n(i))?F("",!0):(v(),L("li",{key:0,onClick:f[1]||(f[1]=g=>V(n(i)))}," 关闭 ")),T("li",{onClick:O}," 关闭其它 "),T("li",{onClick:f[2]||(f[2]=g=>q(n(i)))}," 关闭所有 ")],4),[[Ce,n(o)]])])}}}),ze=B(Ko,[["__scopeId","data-v-c63613aa"]]),Go=992;function Jo(){const d=ce(),{listenerRouteChange:s}=Te(),u=()=>document.body.getBoundingClientRect().width-1<Go,r=()=>{if(!document.hidden){const a=u();d.toggleDevice(a?se.Mobile:se.Desktop),a&&d.closeSidebar(!0)}};s(()=>{d.device===se.Mobile&&d.sidebar.opened&&d.closeSidebar(!1)}),ot(()=>{window.addEventListener("resize",r)}),st(()=>{u()&&(d.toggleDevice(se.Mobile),d.closeSidebar(!0))}),Ve(()=>{window.removeEventListener("resize",r)})}const Yo=z({__name:"LeftMode",setup(d){const{isMobile:s}=ue(),{isLeft:u}=ae(),r=ce(),a=Z(),{showTagsView:e,fixedHeader:t}=ie(a),o=P(()=>({hideSidebar:!r.sidebar.opened,openSidebar:r.sidebar.opened,withoutAnimation:r.sidebar.withoutAnimation,mobile:s.value,noLeft:!u.value}));function l(){r.closeSidebar(!1)}return(p,i)=>(v(),L("div",{class:X([n(o),"app-wrapper"])},[n(o).mobile&&n(o).openSidebar?(v(),L("div",{key:0,class:"drawer-bg",onClick:l})):F("",!0),_(n(Fe),{class:"sidebar-container"}),T("div",{class:X([{hasTagsView:n(e)},"main-container"])},[T("div",{class:X([{"fixed-header":n(t)},"layout-header"])},[_(n(Pe)),Se(_(n(ze),null,null,512),[[Ce,n(e)]])],2),_(n(Ae),{class:"app-main"})],2)],2))}}),Zo=B(Yo,[["__scopeId","data-v-5b4077ad"]]),Qo={class:"fixed-header layout-header"},es={class:"content"},ts=z({__name:"LeftTopMode",setup(d){const s=ce(),u=Z(),{showTagsView:r,showLogo:a}=ie(u),e=P(()=>({hideSidebar:!s.sidebar.opened}));return(t,o)=>(v(),L("div",{class:X([n(e),"app-wrapper"])},[T("div",Qo,[n(a)?(v(),$(n(Ie),{key:0,collapse:!1,class:"logo"})):F("",!0),T("div",es,[_(n(Pe)),Se(_(n(ze),null,null,512),[[Ce,n(r)]])])]),T("div",{class:X([{hasTagsView:n(r)},"main-container"])},[_(n(Fe),{class:"sidebar-container"}),_(n(Ae),{class:"app-main"})],2)],2))}}),ns=B(ts,[["__scopeId","data-v-f307bb44"]]),os={class:"app-wrapper"},ss={class:"fixed-header layout-header"},as={class:"content"},rs=z({__name:"TopMode",setup(d){const s=Z(),{showTagsView:u,showLogo:r}=ie(s);return(a,e)=>(v(),L("div",os,[T("div",ss,[T("div",as,[n(r)?(v(),$(n(Ie),{key:0,collapse:!1,class:"logo"})):F("",!0),_(n(Pe),{class:"navigation-bar"})]),Se(_(n(ze),null,null,512),[[Ce,n(u)]])]),T("div",{class:X([{hasTagsView:n(u)},"main-container"])},[_(n(Ae),{class:"app-main"})],2)]))}}),ls=B(rs,[["__scopeId","data-v-9a9151d9"]]),Re="--v3-tagsview-height",Cs=z({__name:"index",setup(d){Jo();const{setWatermark:s,clearWatermark:u}=Mt(),{isMobile:r}=ue(),{isLeft:a,isTop:e,isLeftTop:t}=ae(),o=Z(),{showSettings:l,showTagsView:p,showWatermark:i}=ie(o),h=_e(Re);return ye(()=>{p.value?We(Re,h):We(Re,"0px")}),ye(()=>{i.value?s("V3 Admin Vite"):u()}),(x,y)=>(v(),L("div",null,[K(W(n(a))+" ",1),n(a)||n(r)?(v(),$(Zo,{key:0})):n(e)?(v(),$(ls,{key:1})):n(t)?(v(),$(ns,{key:2})):F("",!0),n(l)?(v(),$(n($o),{key:3},{default:k(()=>[_(n(Ao))]),_:1})):F("",!0)]))}});export{Cs as default};
