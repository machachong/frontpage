import{_ as D,e as K,l as B,r as y,H as T,z as Pe,m as b,$ as ve,G as H,b as Q,d as P,f as F,ab as V,bf as Be,w as _e,x as Le,ar as E,k as A,o as S,p as _,C,b7 as Ke,b8 as De,i as Me,S as $,j,A as x,aP as Ae,M as q,s as X,X as Ge,E as ne,u as te,F as ze,h as Ye,I as ge,aa as Ue,J as ee,q as He,B as oe,a1 as be,n as Je,t as Ve,L as we,bg as je,at as We,bh as qe,K as Xe}from"./index-Cq0hu8dX.js";import{E as Ie}from"./el-button-BAG-mleq.js";/* empty css                        */import{d as L,u as ue,r as Qe,b as Ze,O as xe,a as Ee,c as eo,e as oo,w as pe}from"./el-scrollbar-BhINAkVa.js";import{c as Ce}from"./el-tooltip-CB717Dcd.js";import{b as no,u as he}from"./use-form-common-props-DOUBQZCF.js";import{F as to}from"./focus-trap-CUETs5n5.js";const lo=K({inheritAttrs:!1});function ro(e,n,s,t,d,a){return B(e.$slots,"default")}var so=D(lo,[["render",ro],["__file","collection.vue"]]);const ao=K({name:"ElCollectionItem",inheritAttrs:!1});function io(e,n,s,t,d,a){return B(e.$slots,"default")}var co=D(ao,[["render",io],["__file","collection-item.vue"]]);const ye="data-el-collection-item",Te=e=>{const n=`El${e}Collection`,s=`${n}Item`,t=Symbol(n),d=Symbol(s),a={...so,name:n,setup(){const r=y(),p=new Map;H(t,{itemMap:p,getItems:()=>{const m=b(r);if(!m)return[];const c=Array.from(m.querySelectorAll(`[${ye}]`));return[...p.values()].sort((o,u)=>c.indexOf(o.ref)-c.indexOf(u.ref))},collectionRef:r})}},i={...co,name:s,setup(r,{attrs:p}){const v=y(),m=T(t,void 0);H(d,{collectionItemRef:v}),Pe(()=>{const c=b(v);c&&m.itemMap.set(c,{ref:c,...p})}),ve(()=>{const c=b(v);m.itemMap.delete(c)})}};return{COLLECTION_INJECTION_KEY:t,COLLECTION_ITEM_INJECTION_KEY:d,ElCollection:a,ElCollectionItem:i}},uo=Q({style:{type:P([String,Array,Object])},currentTabId:{type:P(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:P(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:po,ElCollectionItem:fo,COLLECTION_INJECTION_KEY:le,COLLECTION_ITEM_INJECTION_KEY:mo}=Te("RovingFocusGroup"),re=Symbol("elRovingFocusGroup"),$e=Symbol("elRovingFocusGroupItem"),vo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},_o=(e,n)=>e,go=(e,n,s)=>{const t=_o(e.code);return vo[t]},bo=(e,n)=>e.map((s,t)=>e[(t+n)%e.length]),se=e=>{const{activeElement:n}=document;for(const s of e)if(s===n||(s.focus(),n!==document.activeElement))return},fe="currentTabIdChange",me="rovingFocusGroup.entryFocus",wo={bubbles:!1,cancelable:!0},Io=K({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:uo,emits:[fe,"entryFocus"],setup(e,{emit:n}){var s;const t=y((s=e.currentTabId||e.defaultCurrentTabId)!=null?s:null),d=y(!1),a=y(!1),i=y(),{getItems:r}=T(le,void 0),p=F(()=>[{outline:"none"},e.style]),v=f=>{n(fe,f)},m=()=>{d.value=!0},c=L(f=>{var g;(g=e.onMousedown)==null||g.call(e,f)},()=>{a.value=!0}),w=L(f=>{var g;(g=e.onFocus)==null||g.call(e,f)},f=>{const g=!b(a),{target:M,currentTarget:N}=f;if(M===N&&g&&!b(d)){const G=new Event(me,wo);if(N==null||N.dispatchEvent(G),!G.defaultPrevented){const I=r().filter(R=>R.focusable),k=I.find(R=>R.active),h=I.find(R=>R.id===b(t)),Y=[k,h,...I].filter(Boolean).map(R=>R.ref);se(Y)}}a.value=!1}),o=L(f=>{var g;(g=e.onBlur)==null||g.call(e,f)},()=>{d.value=!1}),u=(...f)=>{n("entryFocus",...f)};H(re,{currentTabbedId:Be(t),loop:V(e,"loop"),tabIndex:F(()=>b(d)?-1:0),rovingFocusGroupRef:i,rovingFocusGroupRootStyle:p,orientation:V(e,"orientation"),dir:V(e,"dir"),onItemFocus:v,onItemShiftTab:m,onBlur:o,onFocus:w,onMousedown:c}),_e(()=>e.currentTabId,f=>{t.value=f??null}),Le(i,me,u)}});function Eo(e,n,s,t,d,a){return B(e.$slots,"default")}var Co=D(Io,[["render",Eo],["__file","roving-focus-group-impl.vue"]]);const ho=K({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:po,ElRovingFocusGroupImpl:Co}});function yo(e,n,s,t,d,a){const i=E("el-roving-focus-group-impl"),r=E("el-focus-group-collection");return S(),A(r,null,{default:_(()=>[C(i,Ke(De(e.$attrs)),{default:_(()=>[B(e.$slots,"default")]),_:3},16)]),_:3})}var To=D(ho,[["render",yo],["__file","roving-focus-group.vue"]]);const $o=Q({trigger:Ze.trigger,triggerKeys:{type:P(Array),default:()=>[$.enter,$.numpadEnter,$.space,$.down]},effect:{...ue.effect,default:"light"},type:{type:P(String)},placement:{type:P(String),default:"bottom"},popperOptions:{type:P(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:P([Number,String]),default:0},maxHeight:{type:P([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,values:Qe,default:"menu"},buttonProps:{type:P(Object)},teleported:ue.teleported,persistent:{type:Boolean,default:!0}}),Oe=Q({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Me}}),Oo=Q({onKeydown:{type:P(Function)}}),Fo=[$.down,$.pageDown,$.home],Fe=[$.up,$.pageUp,$.end],So=[...Fo,...Fe],{ElCollection:No,ElCollectionItem:Ro,COLLECTION_INJECTION_KEY:ko,COLLECTION_ITEM_INJECTION_KEY:Po}=Te("Dropdown"),Z=Symbol("elDropdown"),{ButtonGroup:Bo}=Ie,Lo=K({name:"ElDropdown",components:{ElButton:Ie,ElButtonGroup:Bo,ElScrollbar:eo,ElDropdownCollection:No,ElTooltip:Ee,ElRovingFocusGroup:To,ElOnlyChild:xe,ElIcon:ne,ArrowDown:Ge},props:$o,emits:["visible-change","click","command"],setup(e,{emit:n}){const s=ge(),t=te("dropdown"),{t:d}=ze(),a=y(),i=y(),r=y(),p=y(),v=y(null),m=y(null),c=y(!1),w=F(()=>({maxHeight:Ye(e.maxHeight)})),o=F(()=>[t.m(I.value)]),u=F(()=>oo(e.trigger)),f=he().value,g=F(()=>e.id||f);_e([a,u],([l,O],[U])=>{var ie,de,ce;(ie=U==null?void 0:U.$el)!=null&&ie.removeEventListener&&U.$el.removeEventListener("pointerenter",h),(de=l==null?void 0:l.$el)!=null&&de.removeEventListener&&l.$el.removeEventListener("pointerenter",h),(ce=l==null?void 0:l.$el)!=null&&ce.addEventListener&&O.includes("hover")&&l.$el.addEventListener("pointerenter",h)},{immediate:!0}),ve(()=>{var l,O;(O=(l=a.value)==null?void 0:l.$el)!=null&&O.removeEventListener&&a.value.$el.removeEventListener("pointerenter",h)});function M(){N()}function N(){var l;(l=r.value)==null||l.onClose()}function G(){var l;(l=r.value)==null||l.onOpen()}const I=no();function k(...l){n("command",...l)}function h(){var l,O;(O=(l=a.value)==null?void 0:l.$el)==null||O.focus()}function z(){}function Y(){const l=b(p);u.value.includes("hover")&&(l==null||l.focus()),m.value=null}function R(l){m.value=l}function ae(l){c.value||(l.preventDefault(),l.stopImmediatePropagation())}function W(){n("visible-change",!0)}function J(l){var O;(l==null?void 0:l.type)==="keydown"&&((O=p.value)==null||O.focus())}function ke(){n("visible-change",!1)}return H(Z,{contentRef:p,role:F(()=>e.role),triggerId:g,isUsingKeyboard:c,onItemEnter:z,onItemLeave:Y}),H("elDropdown",{instance:s,dropdownSize:I,handleClick:M,commandHandler:k,trigger:V(e,"trigger"),hideOnClick:V(e,"hideOnClick")}),{t:d,ns:t,scrollbar:v,wrapStyle:w,dropdownTriggerKls:o,dropdownSize:I,triggerId:g,currentTabId:m,handleCurrentTabIdChange:R,handlerMainButtonClick:l=>{n("click",l)},handleEntryFocus:ae,handleClose:N,handleOpen:G,handleBeforeShowTooltip:W,handleShowTooltip:J,handleBeforeHideTooltip:ke,onFocusAfterTrapped:l=>{var O,U;l.preventDefault(),(U=(O=p.value)==null?void 0:O.focus)==null||U.call(O,{preventScroll:!0})},popperRef:r,contentRef:p,triggeringElementRef:a,referenceElementRef:i}}});function Ko(e,n,s,t,d,a){var i;const r=E("el-dropdown-collection"),p=E("el-roving-focus-group"),v=E("el-scrollbar"),m=E("el-only-child"),c=E("el-tooltip"),w=E("el-button"),o=E("arrow-down"),u=E("el-icon"),f=E("el-button-group");return S(),j("div",{class:X([e.ns.b(),e.ns.is("disabled",e.disabled)])},[C(c,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(i=e.referenceElementRef)==null?void 0:i.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Ae({content:_(()=>[C(v,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:_(()=>[C(p,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:_(()=>[C(r,null,{default:_(()=>[B(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:_(()=>[C(m,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:_(()=>[B(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(S(),A(f,{key:0},{default:_(()=>[C(w,q({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:_(()=>[B(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),C(w,q({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:_(()=>[C(u,{class:X(e.ns.e("icon"))},{default:_(()=>[C(o)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):x("v-if",!0)],2)}var Do=D(Lo,[["render",Ko],["__file","dropdown.vue"]]);const Mo=K({components:{ElRovingFocusCollectionItem:fo},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:n}){const{currentTabbedId:s,loop:t,onItemFocus:d,onItemShiftTab:a}=T(re,void 0),{getItems:i}=T(le,void 0),r=he(),p=y(),v=L(o=>{n("mousedown",o)},o=>{e.focusable?d(b(r)):o.preventDefault()}),m=L(o=>{n("focus",o)},()=>{d(b(r))}),c=L(o=>{n("keydown",o)},o=>{const{code:u,shiftKey:f,target:g,currentTarget:M}=o;if(u===$.tab&&f){a();return}if(g!==M)return;const N=go(o);if(N){o.preventDefault();let I=i().filter(k=>k.focusable).map(k=>k.ref);switch(N){case"last":{I.reverse();break}case"prev":case"next":{N==="prev"&&I.reverse();const k=I.indexOf(M);I=t.value?bo(I,k+1):I.slice(k+1);break}}Ue(()=>{se(I)})}}),w=F(()=>s.value===b(r));return H($e,{rovingFocusGroupItemRef:p,tabIndex:F(()=>b(w)?0:-1),handleMousedown:v,handleFocus:m,handleKeydown:c}),{id:r,handleKeydown:c,handleFocus:m,handleMousedown:v}}});function Ao(e,n,s,t,d,a){const i=E("el-roving-focus-collection-item");return S(),A(i,{id:e.id,focusable:e.focusable,active:e.active},{default:_(()=>[B(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Go=D(Mo,[["render",Ao],["__file","roving-focus-item.vue"]]);const zo=K({name:"DropdownItemImpl",components:{ElIcon:ne},props:Oe,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:n}){const s=te("dropdown"),{role:t}=T(Z,void 0),{collectionItemRef:d}=T(Po,void 0),{collectionItemRef:a}=T(mo,void 0),{rovingFocusGroupItemRef:i,tabIndex:r,handleFocus:p,handleKeydown:v,handleMousedown:m}=T($e,void 0),c=Ce(d,a,i),w=F(()=>t.value==="menu"?"menuitem":t.value==="navigation"?"link":"button"),o=L(u=>{if([$.enter,$.numpadEnter,$.space].includes(u.code))return u.preventDefault(),u.stopImmediatePropagation(),n("clickimpl",u),!0},v);return{ns:s,itemRef:c,dataset:{[ye]:""},role:w,tabIndex:r,handleFocus:p,handleKeydown:o,handleMousedown:m}}});function Yo(e,n,s,t,d,a){const i=E("el-icon");return S(),j(be,null,[e.divided?(S(),j("li",{key:0,role:"separator",class:X(e.ns.bem("menu","item","divided"))},null,2)):x("v-if",!0),ee("li",q({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:r=>e.$emit("clickimpl",r),onFocus:e.handleFocus,onKeydown:oe(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:r=>e.$emit("pointermove",r),onPointerleave:r=>e.$emit("pointerleave",r)}),[e.icon?(S(),A(i,{key:0},{default:_(()=>[(S(),A(He(e.icon)))]),_:1})):x("v-if",!0),B(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var Uo=D(zo,[["render",Yo],["__file","dropdown-item-impl.vue"]]);const Se=()=>{const e=T("elDropdown",{}),n=F(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:n}},Ho=K({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Ro,ElRovingFocusItem:Go,ElDropdownItemImpl:Uo},inheritAttrs:!1,props:Oe,emits:["pointermove","pointerleave","click"],setup(e,{emit:n,attrs:s}){const{elDropdown:t}=Se(),d=ge(),a=y(null),i=F(()=>{var o,u;return(u=(o=b(a))==null?void 0:o.textContent)!=null?u:""}),{onItemEnter:r,onItemLeave:p}=T(Z,void 0),v=L(o=>(n("pointermove",o),o.defaultPrevented),pe(o=>{if(e.disabled){p(o);return}const u=o.currentTarget;u===document.activeElement||u.contains(document.activeElement)||(r(o),o.defaultPrevented||u==null||u.focus())})),m=L(o=>(n("pointerleave",o),o.defaultPrevented),pe(p)),c=L(o=>{if(!e.disabled)return n("click",o),o.type!=="keydown"&&o.defaultPrevented},o=>{var u,f,g;if(e.disabled){o.stopImmediatePropagation();return}(u=t==null?void 0:t.hideOnClick)!=null&&u.value&&((f=t.handleClick)==null||f.call(t)),(g=t.commandHandler)==null||g.call(t,e.command,d,o)}),w=F(()=>({...e,...s}));return{handleClick:c,handlePointerMove:v,handlePointerLeave:m,textContent:i,propsAndAttrs:w}}});function Jo(e,n,s,t,d,a){var i;const r=E("el-dropdown-item-impl"),p=E("el-roving-focus-item"),v=E("el-dropdown-collection-item");return S(),A(v,{disabled:e.disabled,"text-value":(i=e.textValue)!=null?i:e.textContent},{default:_(()=>[C(p,{focusable:!e.disabled},{default:_(()=>[C(r,q(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:_(()=>[B(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Ne=D(Ho,[["render",Jo],["__file","dropdown-item.vue"]]);const Vo=K({name:"ElDropdownMenu",props:Oo,setup(e){const n=te("dropdown"),{_elDropdownSize:s}=Se(),t=s.value,{focusTrapRef:d,onKeydown:a}=T(to,void 0),{contentRef:i,role:r,triggerId:p}=T(Z,void 0),{collectionRef:v,getItems:m}=T(ko,void 0),{rovingFocusGroupRef:c,rovingFocusGroupRootStyle:w,tabIndex:o,onBlur:u,onFocus:f,onMousedown:g}=T(re,void 0),{collectionRef:M}=T(le,void 0),N=F(()=>[n.b("menu"),n.bm("menu",t==null?void 0:t.value)]),G=Ce(i,v,d,c,M),I=L(h=>{var z;(z=e.onKeydown)==null||z.call(e,h)},h=>{const{currentTarget:z,code:Y,target:R}=h;if(z.contains(R),$.tab===Y&&h.stopImmediatePropagation(),h.preventDefault(),R!==b(i)||!So.includes(Y))return;const W=m().filter(J=>!J.disabled).map(J=>J.ref);Fe.includes(Y)&&W.reverse(),se(W)});return{size:t,rovingFocusGroupRootStyle:w,tabIndex:o,dropdownKls:N,role:r,triggerId:p,dropdownListWrapperRef:G,handleKeydown:h=>{I(h),a(h)},onBlur:u,onFocus:f,onMousedown:g}}});function jo(e,n,s,t,d,a){return S(),j("ul",{ref:e.dropdownListWrapperRef,class:X(e.dropdownKls),style:Je(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:oe(e.handleKeydown,["self"]),onMousedown:oe(e.onMousedown,["self"])},[B(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Re=D(Vo,[["render",jo],["__file","dropdown-menu.vue"]]);const Wo=Ve(Do,{DropdownItem:Ne,DropdownMenu:Re}),qo=we(Ne),Xo=we(Re),sn=K({__name:"index",setup(e){const{themeList:n,activeThemeName:s,setTheme:t}=qe();return(d,a)=>{const i=ne,r=Ee,p=qo,v=Xo,m=Wo;return S(),A(m,{trigger:"click"},{dropdown:_(()=>[C(v,null,{default:_(()=>[(S(!0),j(be,null,We(b(n),(c,w)=>(S(),A(p,{key:w,disabled:b(s)===c.name,onClick:o=>b(t)(o,c.name)},{default:_(()=>[ee("span",null,Xe(c.title),1)]),_:2},1032,["disabled","onClick"]))),128))]),_:1})]),default:_(()=>[ee("div",null,[C(r,{effect:"dark",content:"主题模式",placement:"bottom"},{default:_(()=>[C(i,{size:20},{default:_(()=>[C(b(je))]),_:1})]),_:1})])]),_:1})}}});export{Wo as E,sn as _,Xo as a,qo as b,$o as d};
