import{cl as yl,bV as at,cm as Sl,cn as st,b_ as ot,c1 as we,co as Ol,bm as Pe,bX as it,aV as wl,cp as Ot,cq as wt,bD as q,cr as Cl,cs as Il,aW as Be,v as El,r as T,f as b,a6 as U,H as Ie,a4 as j,bq as Tl,w as Q,I as Ne,_ as Te,e as de,P as oe,R as Fe,j as E,o as O,l as A,J as R,K as N,B,s as S,u as re,m as Le,bs as We,Z as ue,$ as Rl,aa as K,A as L,n as Ce,z as Ke,F as Al,cj as $l,a3 as H,ca as Vl,bo as ye,ci as rt,a5 as Ll,by as se,S as Ml,ct as Dl,a as Pl,g as Bl,b as Nl,ce as Fl,d as Se,X as Wl,i as ut,cd as Kl,bn as zl,ar as G,bE as Hl,C as k,p as D,k as W,a1 as dt,at as ct,ac as ft,af as ae,ck as Gl,q as Me,cu as kl,E as Ul,G as Ct,cv as ql,t as Ql,L as It}from"./index-Cq0hu8dX.js";import{j as pt,h as vt,k as Xl,e as z,l as Jl,u as Zl,a as Yl,c as jl}from"./el-scrollbar-BhINAkVa.js";import{t as mt,E as _l}from"./el-tag-Btxsk7Ln.js";import{e as xl}from"./strings-BvlZkgKx.js";import{u as Et,a as en,c as tn,b as ln}from"./use-form-common-props-DOUBQZCF.js";import{a as nn,u as an}from"./el-input-kk0ourzJ.js";import{h as sn,U as Y,C as Tt,d as on,u as rn}from"./index-CEd7hGSD.js";import{s as un}from"./focus-trap-CUETs5n5.js";import{d as dn}from"./debounce-BKy1d2FE.js";import{C as cn}from"./index-D-MFBJeb.js";function fn(e,l,a,i){e.length;for(var o=a+1;o--;)if(l(e[o],o,e))return o;return-1}var pn="__lodash_hash_undefined__";function vn(e){return this.__data__.set(e,pn),this}function mn(e){return this.__data__.has(e)}function Ee(e){var l=-1,a=e==null?0:e.length;for(this.__data__=new yl;++l<a;)this.add(e[l])}Ee.prototype.add=Ee.prototype.push=vn;Ee.prototype.has=mn;function gn(e,l){for(var a=-1,i=e==null?0:e.length;++a<i;)if(l(e[a],a,e))return!0;return!1}function bn(e,l){return e.has(l)}var hn=1,yn=2;function Rt(e,l,a,i,o,r){var n=a&hn,f=e.length,u=l.length;if(f!=u&&!(n&&u>f))return!1;var c=r.get(e),v=r.get(l);if(c&&v)return c==l&&v==e;var h=-1,y=!0,m=a&yn?new Ee:void 0;for(r.set(e,l),r.set(l,e);++h<f;){var p=e[h],d=l[h];if(i)var w=n?i(d,p,h,l,e,r):i(p,d,h,e,l,r);if(w!==void 0){if(w)continue;y=!1;break}if(m){if(!gn(l,function($,P){if(!bn(m,P)&&(p===$||o(p,$,a,i,r)))return m.push(P)})){y=!1;break}}else if(!(p===d||o(p,d,a,i,r))){y=!1;break}}return r.delete(e),r.delete(l),y}function Sn(e){var l=-1,a=Array(e.size);return e.forEach(function(i,o){a[++l]=[o,i]}),a}function On(e){var l=-1,a=Array(e.size);return e.forEach(function(i){a[++l]=i}),a}var wn=1,Cn=2,In="[object Boolean]",En="[object Date]",Tn="[object Error]",Rn="[object Map]",An="[object Number]",$n="[object RegExp]",Vn="[object Set]",Ln="[object String]",Mn="[object Symbol]",Dn="[object ArrayBuffer]",Pn="[object DataView]",gt=at?at.prototype:void 0,De=gt?gt.valueOf:void 0;function Bn(e,l,a,i,o,r,n){switch(a){case Pn:if(e.byteLength!=l.byteLength||e.byteOffset!=l.byteOffset)return!1;e=e.buffer,l=l.buffer;case Dn:return!(e.byteLength!=l.byteLength||!r(new st(e),new st(l)));case In:case En:case An:return Sl(+e,+l);case Tn:return e.name==l.name&&e.message==l.message;case $n:case Ln:return e==l+"";case Rn:var f=Sn;case Vn:var u=i&wn;if(f||(f=On),e.size!=l.size&&!u)return!1;var c=n.get(e);if(c)return c==l;i|=Cn,n.set(e,l);var v=Rt(f(e),f(l),i,o,r,n);return n.delete(e),v;case Mn:if(De)return De.call(e)==De.call(l)}return!1}var Nn=1,Fn=Object.prototype,Wn=Fn.hasOwnProperty;function Kn(e,l,a,i,o,r){var n=a&Nn,f=pt(e),u=f.length,c=pt(l),v=c.length;if(u!=v&&!n)return!1;for(var h=u;h--;){var y=f[h];if(!(n?y in l:Wn.call(l,y)))return!1}var m=r.get(e),p=r.get(l);if(m&&p)return m==l&&p==e;var d=!0;r.set(e,l),r.set(l,e);for(var w=n;++h<u;){y=f[h];var $=e[y],P=l[y];if(i)var ce=n?i(P,$,y,l,e,r):i($,P,y,e,l,r);if(!(ce===void 0?$===P||o($,P,a,i,r):ce)){d=!1;break}w||(w=y=="constructor")}if(d&&!w){var X=e.constructor,J=l.constructor;X!=J&&"constructor"in e&&"constructor"in l&&!(typeof X=="function"&&X instanceof X&&typeof J=="function"&&J instanceof J)&&(d=!1)}return r.delete(e),r.delete(l),d}var zn=1,bt="[object Arguments]",ht="[object Array]",Oe="[object Object]",Hn=Object.prototype,yt=Hn.hasOwnProperty;function Gn(e,l,a,i,o,r){var n=Pe(e),f=Pe(l),u=n?ht:vt(e),c=f?ht:vt(l);u=u==bt?Oe:u,c=c==bt?Oe:c;var v=u==Oe,h=c==Oe,y=u==c;if(y&&ot(e)){if(!ot(l))return!1;n=!0,v=!1}if(y&&!v)return r||(r=new we),n||Ol(e)?Rt(e,l,a,i,o,r):Bn(e,l,u,a,i,o,r);if(!(a&zn)){var m=v&&yt.call(e,"__wrapped__"),p=h&&yt.call(l,"__wrapped__");if(m||p){var d=m?e.value():e,w=p?l.value():l;return r||(r=new we),o(d,w,a,i,r)}}return y?(r||(r=new we),Kn(e,l,a,i,o,r)):!1}function Re(e,l,a,i,o){return e===l?!0:e==null||l==null||!it(e)&&!it(l)?e!==e&&l!==l:Gn(e,l,a,i,Re,o)}var kn=1,Un=2;function qn(e,l,a,i){var o=a.length,r=o;if(e==null)return!r;for(e=Object(e);o--;){var n=a[o];if(n[2]?n[1]!==e[n[0]]:!(n[0]in e))return!1}for(;++o<r;){n=a[o];var f=n[0],u=e[f],c=n[1];if(n[2]){if(u===void 0&&!(f in e))return!1}else{var v=new we,h;if(!(h===void 0?Re(c,u,kn|Un,i,v):h))return!1}}return!0}function At(e){return e===e&&!wl(e)}function Qn(e){for(var l=Xl(e),a=l.length;a--;){var i=l[a],o=e[i];l[a]=[i,o,At(o)]}return l}function $t(e,l){return function(a){return a==null?!1:a[e]===l&&(l!==void 0||e in Object(a))}}function Xn(e){var l=Qn(e);return l.length==1&&l[0][2]?$t(l[0][0],l[0][1]):function(a){return a===e||qn(a,e,l)}}var Jn=1,Zn=2;function Yn(e,l){return Ot(e)&&At(l)?$t(wt(e),l):function(a){var i=q(a,e);return i===void 0&&i===l?sn(a,e):Re(l,i,Jn|Zn)}}function jn(e){return function(l){return l==null?void 0:l[e]}}function _n(e){return function(l){return Cl(l,e)}}function xn(e){return Ot(e)?jn(wt(e)):_n(e)}function ea(e){return typeof e=="function"?e:e==null?Il:typeof e=="object"?Pe(e)?Yn(e[0],e[1]):Xn(e):xn(e)}function ta(e,l,a){var i=e==null?0:e.length;if(!i)return-1;var o=i-1;return fn(e,ea(l),o)}function ie(e,l){return Re(e,l)}const Ra=e=>Be?window.requestAnimationFrame(e):setTimeout(e,16),Aa=e=>Be?window.cancelAnimationFrame(e):clearTimeout(e);function la(){const e=El(),l=T(0),a=11,i=b(()=>({minWidth:`${Math.max(l.value,a)}px`}));return U(e,()=>{var r,n;l.value=(n=(r=e.value)==null?void 0:r.getBoundingClientRect().width)!=null?n:0}),{calculatorRef:e,calculatorWidth:l,inputStyle:i}}const Vt=Symbol("ElSelectGroup"),Ae=Symbol("ElSelect");function na(e,l){const a=Ie(Ae),i=Ie(Vt,{disabled:!1}),o=b(()=>v(z(a.props.modelValue),e.value)),r=b(()=>{var m;if(a.props.multiple){const p=z((m=a.props.modelValue)!=null?m:[]);return!o.value&&p.length>=a.props.multipleLimit&&a.props.multipleLimit>0}else return!1}),n=b(()=>e.label||(j(e.value)?"":e.value)),f=b(()=>e.value||e.label||""),u=b(()=>e.disabled||l.groupDisabled||r.value),c=Ne(),v=(m=[],p)=>{if(j(e.value)){const d=a.props.valueKey;return m&&m.some(w=>Tl(q(w,d))===q(p,d))}else return m&&m.includes(p)},h=()=>{!e.disabled&&!i.disabled&&(a.states.hoveringIndex=a.optionsArray.indexOf(c.proxy))},y=m=>{const p=new RegExp(xl(m),"i");l.visible=p.test(n.value)||e.created};return Q(()=>n.value,()=>{!e.created&&!a.props.remote&&a.setSelected()}),Q(()=>e.value,(m,p)=>{const{remote:d,valueKey:w}=a.props;if((d?m!==p:!ie(m,p))&&(a.onOptionDestroy(p,c.proxy),a.onOptionCreate(c.proxy)),!e.created&&!d){if(w&&j(m)&&j(p)&&m[w]===p[w])return;a.setSelected()}}),Q(()=>i.disabled,()=>{l.groupDisabled=i.disabled},{immediate:!0}),{select:a,currentLabel:n,currentValue:f,itemSelected:o,isDisabled:u,hoverItem:h,updateOption:y}}const aa=de({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const l=re("select"),a=Et(),i=b(()=>[l.be("dropdown","item"),l.is("disabled",Le(f)),l.is("selected",Le(n)),l.is("hovering",Le(y))]),o=ue({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:r,itemSelected:n,isDisabled:f,select:u,hoverItem:c,updateOption:v}=na(e,o),{visible:h,hover:y}=We(o),m=Ne().proxy;u.onOptionCreate(m),Rl(()=>{const d=m.value,{selected:w}=u.states,$=w.some(P=>P.value===m.value);K(()=>{u.states.cachedOptions.get(d)===m&&!$&&u.states.cachedOptions.delete(d)}),u.onOptionDestroy(d,m)});function p(){f.value||u.handleOptionSelect(m)}return{ns:l,id:a,containerKls:i,currentLabel:r,itemSelected:n,isDisabled:f,select:u,hoverItem:c,updateOption:v,visible:h,hover:y,selectOptionClick:p,states:o}}});function sa(e,l,a,i,o,r){return oe((O(),E("li",{id:e.id,class:S(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:B(e.selectOptionClick,["stop"])},[A(e.$slots,"default",{},()=>[R("span",null,N(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[Fe,e.visible]])}var ze=Te(aa,[["render",sa],["__file","option.vue"]]);const oa=de({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Ie(Ae),l=re("select"),a=b(()=>e.props.popperClass),i=b(()=>e.props.multiple),o=b(()=>e.props.fitInputWidth),r=T("");function n(){var f;r.value=`${(f=e.selectRef)==null?void 0:f.offsetWidth}px`}return Ke(()=>{n(),U(e.selectRef,n)}),{ns:l,minWidth:r,popperClass:a,isMultiple:i,isFitInputWidth:o}}});function ia(e,l,a,i,o,r){return O(),E("div",{class:S([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Ce({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(O(),E("div",{key:0,class:S(e.ns.be("dropdown","header"))},[A(e.$slots,"header")],2)):L("v-if",!0),A(e.$slots,"default"),e.$slots.footer?(O(),E("div",{key:1,class:S(e.ns.be("dropdown","footer"))},[A(e.$slots,"footer")],2)):L("v-if",!0)],6)}var ra=Te(oa,[["render",ia],["__file","select-dropdown.vue"]]);const ua=(e,l)=>{const{t:a}=Al(),i=Et(),o=re("select"),r=re("input"),n=ue({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),f=T(null),u=T(null),c=T(null),v=T(null),h=T(null),y=T(null),m=T(null),p=T(null),d=T(null),w=T(null),$=T(null),{isComposing:P,handleCompositionStart:ce,handleCompositionUpdate:X,handleCompositionEnd:J}=nn({afterComposition:t=>je(t)}),{wrapperRef:He,isFocused:Ge,handleBlur:Mt}=an(h,{beforeFocus(){return ee.value},afterFocus(){e.automaticDropdown&&!C.value&&(C.value=!0,n.menuVisibleOnFocus=!0)},beforeBlur(t){var s,g;return((s=c.value)==null?void 0:s.isFocusInsideContent(t))||((g=v.value)==null?void 0:g.isFocusInsideContent(t))},afterBlur(){C.value=!1,n.menuVisibleOnFocus=!1}}),C=T(!1),_=T(),{form:fe,formItem:x}=en(),{inputId:Dt}=tn(e,{formItemContext:x}),{valueOnClear:Pt,isEmptyValue:Bt}=$l(e),ee=b(()=>e.disabled||(fe==null?void 0:fe.disabled)),$e=b(()=>H(e.modelValue)?e.modelValue.length>0:!Bt(e.modelValue)),Nt=b(()=>{var t;return(t=fe==null?void 0:fe.statusIcon)!=null?t:!1}),Ft=b(()=>e.clearable&&!ee.value&&n.inputHovering&&$e.value),ke=b(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Wt=b(()=>o.is("reverse",ke.value&&C.value)),Ue=b(()=>(x==null?void 0:x.validateState)||""),Kt=b(()=>Vl[Ue.value]),zt=b(()=>e.remote?300:0),Ht=b(()=>e.remote&&!n.inputValue&&n.options.size===0),Gt=b(()=>e.loading?e.loadingText||a("el.select.loading"):e.filterable&&n.inputValue&&n.options.size>0&&te.value===0?e.noMatchText||a("el.select.noMatch"):n.options.size===0?e.noDataText||a("el.select.noData"):null),te=b(()=>V.value.filter(t=>t.visible).length),V=b(()=>{const t=Array.from(n.options.values()),s=[];return n.optionValues.forEach(g=>{const I=t.findIndex(M=>M.value===g);I>-1&&s.push(t[I])}),s.length>=t.length?s:t}),kt=b(()=>Array.from(n.cachedOptions.values())),Ut=b(()=>{const t=V.value.filter(s=>!s.created).some(s=>s.currentLabel===n.inputValue);return e.filterable&&e.allowCreate&&n.inputValue!==""&&!t}),qe=()=>{e.filterable&&se(e.filterMethod)||e.filterable&&e.remote&&se(e.remoteMethod)||V.value.forEach(t=>{var s;(s=t.updateOption)==null||s.call(t,n.inputValue)})},Qe=ln(),qt=b(()=>["small"].includes(Qe.value)?"small":"default"),Qt=b({get(){return C.value&&!Ht.value},set(t){C.value=t}}),Xt=b(()=>{if(e.multiple&&!ye(e.modelValue))return z(e.modelValue).length===0&&!n.inputValue;const t=H(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||ye(t)?!n.inputValue:!0}),Jt=b(()=>{var t;const s=(t=e.placeholder)!=null?t:a("el.select.placeholder");return e.multiple||!$e.value?s:n.selectedLabel}),Zt=b(()=>rt?null:"mouseenter");Q(()=>e.modelValue,(t,s)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(n.inputValue="",pe("")),ve(),!ie(t,s)&&e.validateEvent&&(x==null||x.validate("change").catch(g=>on()))},{flush:"post",deep:!0}),Q(()=>C.value,t=>{t?pe(n.inputValue):(n.inputValue="",n.previousQuery=null,n.isBeforeHide=!0),l("visible-change",t)}),Q(()=>n.options.entries(),()=>{Be&&(ve(),e.defaultFirstOption&&(e.filterable||e.remote)&&te.value&&Xe())},{flush:"post"}),Q([()=>n.hoveringIndex,V],([t])=>{Pl(t)&&t>-1?_.value=V.value[t]||{}:_.value={},V.value.forEach(s=>{s.hover=_.value===s})}),Ll(()=>{n.isBeforeHide||qe()});const pe=t=>{n.previousQuery===t||P.value||(n.previousQuery=t,e.filterable&&se(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&se(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&te.value?K(Xe):K(Yt))},Xe=()=>{const t=V.value.filter(M=>M.visible&&!M.disabled&&!M.states.groupDisabled),s=t.find(M=>M.created),g=t[0],I=V.value.map(M=>M.value);n.hoveringIndex=tt(I,s||g)},ve=()=>{if(e.multiple)n.selectedLabel="";else{const s=H(e.modelValue)?e.modelValue[0]:e.modelValue,g=Je(s);n.selectedLabel=g.currentLabel,n.selected=[g];return}const t=[];ye(e.modelValue)||z(e.modelValue).forEach(s=>{t.push(Je(s))}),n.selected=t},Je=t=>{let s;const g=Dl(t);for(let Z=n.cachedOptions.size-1;Z>=0;Z--){const F=kt.value[Z];if(g?q(F.value,e.valueKey)===q(t,e.valueKey):F.value===t){s={value:t,currentLabel:F.currentLabel,get isDisabled(){return F.isDisabled}};break}}if(s)return s;const I=g?t.label:t??"";return{value:t,currentLabel:I}},Yt=()=>{n.hoveringIndex=V.value.findIndex(t=>n.selected.some(s=>be(s)===be(t)))},jt=()=>{n.selectionWidth=u.value.getBoundingClientRect().width},_t=()=>{n.collapseItemWidth=w.value.getBoundingClientRect().width},Ve=()=>{var t,s;(s=(t=c.value)==null?void 0:t.updatePopper)==null||s.call(t)},Ze=()=>{var t,s;(s=(t=v.value)==null?void 0:t.updatePopper)==null||s.call(t)},Ye=()=>{n.inputValue.length>0&&!C.value&&(C.value=!0),pe(n.inputValue)},je=t=>{if(n.inputValue=t.target.value,e.remote)_e();else return Ye()},_e=dn(()=>{Ye()},zt.value),le=t=>{ie(e.modelValue,t)||l(Tt,t)},xt=t=>ta(t,s=>{const g=n.cachedOptions.get(s);return g&&!g.disabled&&!g.states.groupDisabled}),el=t=>{if(e.multiple&&t.code!==Ml.delete&&t.target.value.length<=0){const s=z(e.modelValue).slice(),g=xt(s);if(g<0)return;const I=s[g];s.splice(g,1),l(Y,s),le(s),l("remove-tag",I)}},tl=(t,s)=>{const g=n.selected.indexOf(s);if(g>-1&&!ee.value){const I=z(e.modelValue).slice();I.splice(g,1),l(Y,I),le(I),l("remove-tag",s.value)}t.stopPropagation(),ge()},xe=t=>{t.stopPropagation();const s=e.multiple?[]:Pt.value;if(e.multiple)for(const g of n.selected)g.isDisabled&&s.push(g.value);l(Y,s),le(s),n.hoveringIndex=-1,C.value=!1,l("clear"),ge()},et=t=>{var s;if(e.multiple){const g=z((s=e.modelValue)!=null?s:[]).slice(),I=tt(g,t);I>-1?g.splice(I,1):(e.multipleLimit<=0||g.length<e.multipleLimit)&&g.push(t.value),l(Y,g),le(g),t.created&&pe(""),e.filterable&&!e.reserveKeyword&&(n.inputValue="")}else l(Y,t.value),le(t.value),C.value=!1;ge(),!C.value&&K(()=>{me(t)})},tt=(t=[],s)=>ye(s)?-1:j(s.value)?t.findIndex(g=>ie(q(g,e.valueKey),be(s))):t.indexOf(s.value),me=t=>{var s,g,I,M,Z;const F=H(t)?t[0]:t;let he=null;if(F!=null&&F.value){const ne=V.value.filter(hl=>hl.value===F.value);ne.length>0&&(he=ne[0].$el)}if(c.value&&he){const ne=(M=(I=(g=(s=c.value)==null?void 0:s.popperRef)==null?void 0:g.contentRef)==null?void 0:I.querySelector)==null?void 0:M.call(I,`.${o.be("dropdown","wrap")}`);ne&&un(ne,he)}(Z=$.value)==null||Z.handleScroll()},ll=t=>{n.options.set(t.value,t),n.cachedOptions.set(t.value,t)},nl=(t,s)=>{n.options.get(t)===s&&n.options.delete(t)},al=b(()=>{var t,s;return(s=(t=c.value)==null?void 0:t.popperRef)==null?void 0:s.contentRef}),sl=()=>{n.isBeforeHide=!1,K(()=>{var t;(t=$.value)==null||t.update(),me(n.selected)})},ge=()=>{var t;(t=h.value)==null||t.focus()},ol=()=>{var t;if(C.value){C.value=!1,K(()=>{var s;return(s=h.value)==null?void 0:s.blur()});return}(t=h.value)==null||t.blur()},il=t=>{xe(t)},rl=t=>{if(C.value=!1,Ge.value){const s=new FocusEvent("focus",t);K(()=>Mt(s))}},ul=()=>{n.inputValue.length>0?n.inputValue="":C.value=!1},lt=()=>{ee.value||(rt&&(n.inputHovering=!0),n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:C.value=!C.value)},dl=()=>{if(!C.value)lt();else{const t=V.value[n.hoveringIndex];t&&!t.isDisabled&&et(t)}},be=t=>j(t.value)?q(t.value,e.valueKey):t.value,cl=b(()=>V.value.filter(t=>t.visible).every(t=>t.isDisabled)),fl=b(()=>e.multiple?e.collapseTags?n.selected.slice(0,e.maxCollapseTags):n.selected:[]),pl=b(()=>e.multiple?e.collapseTags?n.selected.slice(e.maxCollapseTags):[]:[]),nt=t=>{if(!C.value){C.value=!0;return}if(!(n.options.size===0||te.value===0||P.value)&&!cl.value){t==="next"?(n.hoveringIndex++,n.hoveringIndex===n.options.size&&(n.hoveringIndex=0)):t==="prev"&&(n.hoveringIndex--,n.hoveringIndex<0&&(n.hoveringIndex=n.options.size-1));const s=V.value[n.hoveringIndex];(s.isDisabled||!s.visible)&&nt(t),K(()=>me(_.value))}},vl=()=>{if(!u.value)return 0;const t=window.getComputedStyle(u.value);return Number.parseFloat(t.gap||"6px")},ml=b(()=>{const t=vl();return{maxWidth:`${w.value&&e.maxCollapseTags===1?n.selectionWidth-n.collapseItemWidth-t:n.selectionWidth}px`}}),gl=b(()=>({maxWidth:`${n.selectionWidth}px`})),bl=t=>{l("popup-scroll",t)};return U(u,jt),U(p,Ve),U(He,Ve),U(d,Ze),U(w,_t),Ke(()=>{ve()}),{inputId:Dt,contentId:i,nsSelect:o,nsInput:r,states:n,isFocused:Ge,expanded:C,optionsArray:V,hoverOption:_,selectSize:Qe,filteredOptionsCount:te,updateTooltip:Ve,updateTagTooltip:Ze,debouncedOnInputChange:_e,onInput:je,deletePrevTag:el,deleteTag:tl,deleteSelected:xe,handleOptionSelect:et,scrollToOption:me,hasModelValue:$e,shouldShowPlaceholder:Xt,currentPlaceholder:Jt,mouseEnterEventName:Zt,needStatusIcon:Nt,showClose:Ft,iconComponent:ke,iconReverse:Wt,validateState:Ue,validateIcon:Kt,showNewOption:Ut,updateOptions:qe,collapseTagSize:qt,setSelected:ve,selectDisabled:ee,emptyText:Gt,handleCompositionStart:ce,handleCompositionUpdate:X,handleCompositionEnd:J,onOptionCreate:ll,onOptionDestroy:nl,handleMenuEnter:sl,focus:ge,blur:ol,handleClearClick:il,handleClickOutside:rl,handleEsc:ul,toggleMenu:lt,selectOption:dl,getValueKey:be,navigateOptions:nt,dropdownMenuVisible:Qt,showTagList:fl,collapseTagList:pl,popupScroll:bl,tagStyle:ml,collapseTagStyle:gl,popperRef:al,inputRef:h,tooltipRef:c,tagTooltipRef:v,prefixRef:y,suffixRef:m,selectRef:f,wrapperRef:He,selectionRef:u,scrollbarRef:$,menuRef:p,tagMenuRef:d,collapseItemRef:w}};var da=de({name:"ElOptions",setup(e,{slots:l}){const a=Ie(Ae);let i=[];return()=>{var o,r;const n=(o=l.default)==null?void 0:o.call(l),f=[];function u(c){H(c)&&c.forEach(v=>{var h,y,m,p;const d=(h=(v==null?void 0:v.type)||{})==null?void 0:h.name;d==="ElOptionGroup"?u(!Bl(v.children)&&!H(v.children)&&se((y=v.children)==null?void 0:y.default)?(m=v.children)==null?void 0:m.default():v.children):d==="ElOption"?f.push((p=v.props)==null?void 0:p.value):H(v.children)&&u(v.children)})}return n.length&&u((r=n[0])==null?void 0:r.children),ie(f,i)||(i=f,a&&(a.states.optionValues=f)),n}}});const ca=Nl({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:zl,effect:{type:Se(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Se(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Zl.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ut,default:Kl},fitInputWidth:Boolean,suffixIcon:{type:ut,default:Wl},tagType:{...mt.type,default:"info"},tagEffect:{...mt.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Se(String),values:Jl,default:"bottom-start"},fallbackPlacements:{type:Se(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...Fl,...rn(["ariaLabel"])}),St="ElSelect",fa=de({name:St,componentName:St,components:{ElSelectMenu:ra,ElOption:ze,ElOptions:da,ElTag:_l,ElScrollbar:jl,ElTooltip:Yl,ElIcon:Ul},directives:{ClickOutside:cn},props:ca,emits:[Y,Tt,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:l}){const a=b(()=>{const{modelValue:u,multiple:c}=e,v=c?[]:void 0;return H(u)?c?u:v:c?v:u}),i=ue({...We(e),modelValue:a}),o=ua(i,l),{calculatorRef:r,inputStyle:n}=la();Ct(Ae,ue({props:i,states:o.states,optionsArray:o.optionsArray,handleOptionSelect:o.handleOptionSelect,onOptionCreate:o.onOptionCreate,onOptionDestroy:o.onOptionDestroy,selectRef:o.selectRef,setSelected:o.setSelected}));const f=b(()=>e.multiple?o.states.selected.map(u=>u.currentLabel):o.states.selectedLabel);return{...o,modelValue:a,selectedLabel:f,calculatorRef:r,inputStyle:n}}});function pa(e,l,a,i,o,r){const n=G("el-tag"),f=G("el-tooltip"),u=G("el-icon"),c=G("el-option"),v=G("el-options"),h=G("el-scrollbar"),y=G("el-select-menu"),m=Hl("click-outside");return oe((O(),E("div",{ref:"selectRef",class:S([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[kl(e.mouseEnterEventName)]:p=>e.states.inputHovering=!0,onMouseleave:p=>e.states.inputHovering=!1},[k(f,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:p=>e.states.isBeforeHide=!1},{default:D(()=>{var p;return[R("div",{ref:"wrapperRef",class:S([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:B(e.toggleMenu,["prevent"])},[e.$slots.prefix?(O(),E("div",{key:0,ref:"prefixRef",class:S(e.nsSelect.e("prefix"))},[A(e.$slots,"prefix")],2)):L("v-if",!0),R("div",{ref:"selectionRef",class:S([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?A(e.$slots,"tag",{key:0},()=>[(O(!0),E(dt,null,ct(e.showTagList,d=>(O(),E("div",{key:e.getValueKey(d),class:S(e.nsSelect.e("selected-item"))},[k(n,{closable:!e.selectDisabled&&!d.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ce(e.tagStyle),onClose:w=>e.deleteTag(w,d)},{default:D(()=>[R("span",{class:S(e.nsSelect.e("tags-text"))},[A(e.$slots,"label",{label:d.currentLabel,value:d.value},()=>[ft(N(d.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(O(),W(f,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:D(()=>[R("div",{ref:"collapseItemRef",class:S(e.nsSelect.e("selected-item"))},[k(n,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ce(e.collapseTagStyle)},{default:D(()=>[R("span",{class:S(e.nsSelect.e("tags-text"))}," + "+N(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:D(()=>[R("div",{ref:"tagMenuRef",class:S(e.nsSelect.e("selection"))},[(O(!0),E(dt,null,ct(e.collapseTagList,d=>(O(),E("div",{key:e.getValueKey(d),class:S(e.nsSelect.e("selected-item"))},[k(n,{class:"in-tooltip",closable:!e.selectDisabled&&!d.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:w=>e.deleteTag(w,d)},{default:D(()=>[R("span",{class:S(e.nsSelect.e("tags-text"))},[A(e.$slots,"label",{label:d.currentLabel,value:d.value},()=>[ft(N(d.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):L("v-if",!0)]):L("v-if",!0),R("div",{class:S([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[oe(R("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":d=>e.states.inputValue=d,type:"text",name:e.name,class:S([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Ce(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((p=e.hoverOption)==null?void 0:p.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[ae(B(d=>e.navigateOptions("next"),["stop","prevent"]),["down"]),ae(B(d=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),ae(B(e.handleEsc,["stop","prevent"]),["esc"]),ae(B(e.selectOption,["stop","prevent"]),["enter"]),ae(B(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:B(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[Gl,e.states.inputValue]]),e.filterable?(O(),E("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:S(e.nsSelect.e("input-calculator")),textContent:N(e.states.inputValue)},null,10,["textContent"])):L("v-if",!0)],2),e.shouldShowPlaceholder?(O(),E("div",{key:1,class:S([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?A(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[R("span",null,N(e.currentPlaceholder),1)]):(O(),E("span",{key:1},N(e.currentPlaceholder),1))],2)):L("v-if",!0)],2),R("div",{ref:"suffixRef",class:S(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(O(),W(u,{key:0,class:S([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:D(()=>[(O(),W(Me(e.iconComponent)))]),_:1},8,["class"])):L("v-if",!0),e.showClose&&e.clearIcon?(O(),W(u,{key:1,class:S([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:D(()=>[(O(),W(Me(e.clearIcon)))]),_:1},8,["class","onClick"])):L("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(O(),W(u,{key:2,class:S([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:D(()=>[(O(),W(Me(e.validateIcon)))]),_:1},8,["class"])):L("v-if",!0)],2)],10,["onClick"])]}),content:D(()=>[k(y,{ref:"menuRef"},{default:D(()=>[e.$slots.header?(O(),E("div",{key:0,class:S(e.nsSelect.be("dropdown","header")),onClick:B(()=>{},["stop"])},[A(e.$slots,"header")],10,["onClick"])):L("v-if",!0),oe(k(h,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:S([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:D(()=>[e.showNewOption?(O(),W(c,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):L("v-if",!0),k(v,null,{default:D(()=>[A(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Fe,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(O(),E("div",{key:1,class:S(e.nsSelect.be("dropdown","loading"))},[A(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(O(),E("div",{key:2,class:S(e.nsSelect.be("dropdown","empty"))},[A(e.$slots,"empty",{},()=>[R("span",null,N(e.emptyText),1)])],2)):L("v-if",!0),e.$slots.footer?(O(),E("div",{key:3,class:S(e.nsSelect.be("dropdown","footer")),onClick:B(()=>{},["stop"])},[A(e.$slots,"footer")],10,["onClick"])):L("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[m,e.handleClickOutside,e.popperRef]])}var va=Te(fa,[["render",pa],["__file","select.vue"]]);const ma=de({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const l=re("select"),a=T(null),i=Ne(),o=T([]);Ct(Vt,ue({...We(e)}));const r=b(()=>o.value.some(c=>c.visible===!0)),n=c=>{var v,h;return((v=c.type)==null?void 0:v.name)==="ElOption"&&!!((h=c.component)!=null&&h.proxy)},f=c=>{const v=z(c),h=[];return v.forEach(y=>{var m,p;n(y)?h.push(y.component.proxy):(m=y.children)!=null&&m.length?h.push(...f(y.children)):(p=y.component)!=null&&p.subTree&&h.push(...f(y.component.subTree))}),h},u=()=>{o.value=f(i.subTree)};return Ke(()=>{u()}),ql(a,u,{attributes:!0,subtree:!0,childList:!0}),{groupRef:a,visible:r,ns:l}}});function ga(e,l,a,i,o,r){return oe((O(),E("ul",{ref:"groupRef",class:S(e.ns.be("group","wrap"))},[R("li",{class:S(e.ns.be("group","title"))},N(e.label),3),R("li",null,[R("ul",{class:S(e.ns.b("group"))},[A(e.$slots,"default")],2)])],2)),[[Fe,e.visible]])}var Lt=Te(ma,[["render",ga],["__file","option-group.vue"]]);const $a=Ql(va,{Option:ze,OptionGroup:Lt}),Va=It(ze);It(Lt);export{Va as E,$a as a,ea as b,Aa as c,ta as f,ie as i,Ra as r,la as u};
