import{b as z,c as T,_ as A,e as h,r as B,u as N,f as D,bo as E,b5 as H,z as I,bG as U,k as p,o as r,p as t,l as V,n as W,s as $,m as g,q as M,t as j,cP as q,aI as F,bE as G,j as K,C as o,P as C,ac as u,A as P}from"./index-Cq0hu8dX.js";import{E as L,a as O}from"./el-tab-pane-G94wE95E.js";import{E as R}from"./el-tag-Btxsk7Ln.js";import{E as J}from"./el-card-Iip8AZ5C.js";import{E as Q}from"./el-button-BAG-mleq.js";import{S as X}from"./SwitchRoles-Bj17WoEi.js";import{b as Y}from"./use-form-common-props-DOUBQZCF.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CEd7hGSD.js";import"./strings-BvlZkgKx.js";import"./vnode-CC1GAhCu.js";import"./index-C_5UEoYW.js";const ee=z({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:T,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),te=h({name:"ElText"}),se=h({...te,props:ee,setup(l){const s=l,e=B(),f=Y(),a=N("text"),v=D(()=>[a.b(),a.m(s.type),a.m(f.value),a.is("truncated",s.truncated),a.is("line-clamp",!E(s.lineClamp))]),_=H().title,d=()=>{var n,i,x,y,k;if(_)return;let b=!1;const w=((n=e.value)==null?void 0:n.textContent)||"";if(s.truncated){const m=(i=e.value)==null?void 0:i.offsetWidth,c=(x=e.value)==null?void 0:x.scrollWidth;m&&c&&c>m&&(b=!0)}else if(!E(s.lineClamp)){const m=(y=e.value)==null?void 0:y.offsetHeight,c=(k=e.value)==null?void 0:k.scrollHeight;m&&c&&c>m&&(b=!0)}b?e.value.setAttribute("title",w):e.value.removeAttribute("title")};return I(d),U(d),(n,i)=>(r(),p(M(n.tag),{ref_key:"textRef",ref:e,class:$(g(v)),style:W({"-webkit-line-clamp":n.lineClamp})},{default:t(()=>[V(n.$slots,"default")]),_:3},8,["class","style"]))}});var ae=A(se,[["__file","text.vue"]]);const ne=j(ae);function S(l){if(q(l)&&l.length>0){const{roles:s}=F();return s.some(e=>l.includes(e))}else return console.error("参数必须是一个数组且长度大于 0，参考：checkPermission(['admin', 'editor'])"),!1}const oe={class:"app-container"},le=h({__name:"button-level",setup(l){return(s,e)=>{const f=Q,a=J,v=ne,_=R,d=O,n=L,i=G("permission");return r(),K("div",oe,[o(X),o(a,{header:"权限指令 v-permission 示例",shadow:"never",class:"margin-top-20"},{default:t(()=>[C((r(),p(f,null,{default:t(()=>e[0]||(e[0]=[u(" admin ")])),_:1})),[[i,["admin"]]]),C((r(),p(f,null,{default:t(()=>e[1]||(e[1]=[u(" admin 和 editor ")])),_:1})),[[i,["admin","editor"]]])]),_:1}),o(a,{header:"权限函数 checkPermission 示例",shadow:"never",class:"margin-top-20"},{default:t(()=>[o(v,{type:"warning",size:"large"},{default:t(()=>e[2]||(e[2]=[u(" Element Plus 的 el-tab-pane 和 el-table-column 以及其它动态渲染 DOM 的场景不适合使用 v-permission 这种情况下你可以通过 v-if + checkPermission 来实现 ")])),_:1}),o(n,{type:"border-card",class:"margin-top-20"},{default:t(()=>[g(S)(["admin"])?(r(),p(d,{key:0,label:"admin"},{default:t(()=>[o(_,{size:"large"},{default:t(()=>e[3]||(e[3]=[u(` v-if="checkPermission(['admin'])" `)])),_:1})]),_:1})):P("",!0),g(S)(["admin","editor"])?(r(),p(d,{key:1,label:"admin 和 editor"},{default:t(()=>[o(_,{size:"large"},{default:t(()=>e[4]||(e[4]=[u(` v-if="checkPermission(['admin', 'editor'])" `)])),_:1})]),_:1})):P("",!0)]),_:1})]),_:1})])}}}),he=Z(le,[["__scopeId","data-v-3d1bb89f"]]);export{he as default};
